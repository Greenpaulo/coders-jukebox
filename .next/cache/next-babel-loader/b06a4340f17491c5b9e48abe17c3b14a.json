{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useContext } from 'react';\nimport { GlobalContext } from '../context/GlobalContext';\nimport colors from '../css-variables/colors';\n\nconst FileUpload = ({\n  setEditMode\n}) => {\n  const {\n    0: file,\n    1: setFile\n  } = useState('');\n  const {\n    0: filename,\n    1: setFilename\n  } = useState('Upload photo - max size 70 KB');\n  const {\n    uploadFile\n  } = useContext(GlobalContext);\n\n  const uploadFileHandler = e => {\n    e.preventDefault(); // Check for max size\n\n    if (file.size > 70000) {\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('file', file);\n    uploadFile(formData);\n    setEditMode(false);\n  };\n\n  const onChange = e => {\n    setFile(e.target.files[0]);\n    setFilename(e.target.files[0].name);\n  };\n\n  return __jsx(\"div\", {\n    id: \"file-upload\",\n    className: _JSXStyle.dynamic([[\"1812339006\", [colors.primary]]])\n  }, __jsx(\"h2\", {\n    className: _JSXStyle.dynamic([[\"1812339006\", [colors.primary]]])\n  }, \"Upload a profile photo:\"), __jsx(\"form\", {\n    onSubmit: e => uploadFileHandler(e),\n    className: _JSXStyle.dynamic([[\"1812339006\", [colors.primary]]])\n  }, __jsx(\"input\", {\n    type: \"file\",\n    name: \"file\",\n    id: \"file\",\n    onChange: onChange,\n    className: _JSXStyle.dynamic([[\"1812339006\", [colors.primary]]]) + \" \" + \"custom-file-input\"\n  }), __jsx(\"label\", {\n    htmlFor: \"file\",\n    className: _JSXStyle.dynamic([[\"1812339006\", [colors.primary]]]) + \" \" + \"custom-file-label\"\n  }, filename), __jsx(\"button\", {\n    type: \"submit\",\n    value: \"Upload\",\n    className: _JSXStyle.dynamic([[\"1812339006\", [colors.primary]]])\n  }, \"Upload\")), __jsx(_JSXStyle, {\n    id: \"1812339006\",\n    dynamic: [colors.primary]\n  }, `#file-upload.__jsx-style-dynamic-selector{margin-top:3rem;border-top:1px solid ${colors.primary};padding-top:2rem;}#file-upload.__jsx-style-dynamic-selector h2.__jsx-style-dynamic-selector{margin-bottom:1rem;}form.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}input[type=\"file\"].__jsx-style-dynamic-selector{font-size:1rem;}input#file-upload-button.__jsx-style-dynamic-selector{border-radius:5px;padding:1rem;}label.__jsx-style-dynamic-selector{margin:0.5rem 0;}button.__jsx-style-dynamic-selector{width:83px;margin-top:1rem;}input.__jsx-style-dynamic-selector{margin:1rem 0;}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxDb2RpbmdcXE15UHJvamVjdHNcXGNvZGVycy1qdWtlYm94XFxjb21wb25lbnRzXFxGaWxlVXBsb2FkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTZDa0IsQUFJMkIsQUFNRyxBQUlOLEFBS0UsQUFJRyxBQUtGLEFBSUwsQUFLRyxXQUpFLEdBS2xCLENBbEJBLENBZm9ELEFBd0JwRCxFQUxlLENBYmYsUUF1QkEsSUFUQSxtQ0FuQm1CLFFBU0ssU0FSeEIscUVBU0EiLCJmaWxlIjoiQzpcXENvZGluZ1xcTXlQcm9qZWN0c1xcY29kZXJzLWp1a2Vib3hcXGNvbXBvbmVudHNcXEZpbGVVcGxvYWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ29udGV4dH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IEdsb2JhbENvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L0dsb2JhbENvbnRleHQnO1xyXG5pbXBvcnQgY29sb3JzIGZyb20gJy4uL2Nzcy12YXJpYWJsZXMvY29sb3JzJztcclxuXHJcblxyXG5jb25zdCBGaWxlVXBsb2FkID0gKHtzZXRFZGl0TW9kZX0pID0+IHtcclxuXHJcbiAgY29uc3QgW2ZpbGUsIHNldEZpbGVdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFtmaWxlbmFtZSwgc2V0RmlsZW5hbWVdID0gdXNlU3RhdGUoJ1VwbG9hZCBwaG90byAtIG1heCBzaXplIDcwIEtCJyk7XHJcblxyXG4gIGNvbnN0IHsgdXBsb2FkRmlsZSB9ID0gdXNlQ29udGV4dChHbG9iYWxDb250ZXh0KTtcclxuXHJcbiAgY29uc3QgdXBsb2FkRmlsZUhhbmRsZXIgPSAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIC8vIENoZWNrIGZvciBtYXggc2l6ZVxyXG4gICAgaWYgKGZpbGUuc2l6ZSA+IDcwMDAwKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgZmlsZSk7XHJcblxyXG4gICAgdXBsb2FkRmlsZShmb3JtRGF0YSk7XHJcbiAgICBzZXRFZGl0TW9kZShmYWxzZSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBvbkNoYW5nZSA9IChlKSA9PiB7XHJcbiAgICBzZXRGaWxlKGUudGFyZ2V0LmZpbGVzWzBdKTtcclxuICAgIHNldEZpbGVuYW1lKGUudGFyZ2V0LmZpbGVzWzBdLm5hbWUpO1xyXG4gIH1cclxuXHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGlkPVwiZmlsZS11cGxvYWRcIj5cclxuICAgICAgPGgyPlVwbG9hZCBhIHByb2ZpbGUgcGhvdG86PC9oMj5cclxuICAgICAgPGZvcm0gb25TdWJtaXQ9eyhlKSA9PiB1cGxvYWRGaWxlSGFuZGxlcihlKX0+XHJcbiAgICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCIgbmFtZT1cImZpbGVcIiBpZD1cImZpbGVcIiBjbGFzc05hbWU9XCJjdXN0b20tZmlsZS1pbnB1dFwiIG9uQ2hhbmdlPXtvbkNoYW5nZX0gLz5cclxuICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImZpbGVcIiBjbGFzc05hbWU9XCJjdXN0b20tZmlsZS1sYWJlbFwiPlxyXG4gICAgICAgICAge2ZpbGVuYW1lfVxyXG4gICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgdmFsdWU9XCJVcGxvYWRcIj5VcGxvYWQ8L2J1dHRvbj5cclxuICAgICAgPC9mb3JtPlxyXG5cclxuXHJcbiAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgXHJcbiAgICAgICAgI2ZpbGUtdXBsb2FkIHtcclxuICAgICAgICAgIG1hcmdpbi10b3A6IDNyZW07XHJcbiAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgJHtjb2xvcnMucHJpbWFyeX07XHJcbiAgICAgICAgICBwYWRkaW5nLXRvcDogMnJlbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICNmaWxlLXVwbG9hZCBoMiB7XHJcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG4gICAgICAgIH1cclxuICAgICAgXHJcbiAgICAgICAgZm9ybSB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlucHV0W3R5cGU9XCJmaWxlXCJdIHtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlucHV0I2ZpbGUtdXBsb2FkLWJ1dHRvbiB7XHJcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICAgICAgICBwYWRkaW5nOiAxcmVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGFiZWwge1xyXG4gICAgICAgICAgbWFyZ2luOiAwLjVyZW0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJ1dHRvbiB7XHJcbiAgICAgICAgICB3aWR0aDogODNweDtcclxuICAgICAgICAgIG1hcmdpbi10b3A6IDFyZW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlucHV0IHtcclxuICAgICAgICAgIG1hcmdpbjogMXJlbSAwOyBcclxuICAgICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBgfTwvc3R5bGU+XHJcblxyXG4gICAgPC9kaXY+IFxyXG5cclxuICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZpbGVVcGxvYWQ7XHJcbiJdfQ== */\n/*@ sourceURL=C:\\\\Coding\\\\MyProjects\\\\coders-jukebox\\\\components\\\\FileUpload.js */`));\n};\n\nexport default FileUpload;","map":{"version":3,"sources":["C:/Coding/MyProjects/coders-jukebox/components/FileUpload.js"],"names":["useState","useContext","GlobalContext","colors","FileUpload","setEditMode","file","setFile","filename","setFilename","uploadFile","uploadFileHandler","e","preventDefault","size","formData","FormData","append","onChange","target","files","name","primary"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,UAAnB,QAAoC,OAApC;AACA,SAASC,aAAT,QAA8B,0BAA9B;AACA,OAAOC,MAAP,MAAmB,yBAAnB;;AAGA,MAAMC,UAAU,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAmB;AAEpC,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAkBP,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM;AAAA,OAACQ,QAAD;AAAA,OAAWC;AAAX,MAA0BT,QAAQ,CAAC,+BAAD,CAAxC;AAEA,QAAM;AAAEU,IAAAA;AAAF,MAAiBT,UAAU,CAACC,aAAD,CAAjC;;AAEA,QAAMS,iBAAiB,GAAIC,CAAD,IAAO;AAC/BA,IAAAA,CAAC,CAACC,cAAF,GAD+B,CAG/B;;AACA,QAAIP,IAAI,CAACQ,IAAL,GAAY,KAAhB,EAAuB;AACrB;AACD;;AAED,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBX,IAAxB;AAEAI,IAAAA,UAAU,CAACK,QAAD,CAAV;AACAV,IAAAA,WAAW,CAAC,KAAD,CAAX;AACD,GAbD;;AAeA,QAAMa,QAAQ,GAAIN,CAAD,IAAO;AACtBL,IAAAA,OAAO,CAACK,CAAC,CAACO,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAP;AACAX,IAAAA,WAAW,CAACG,CAAC,CAACO,MAAF,CAASC,KAAT,CAAe,CAAf,EAAkBC,IAAnB,CAAX;AACD,GAHD;;AAMA,SACE;AAAK,IAAA,EAAE,EAAC,aAAR;AAAA,kDAe8BlB,MAAM,CAACmB,OAfrC;AAAA,KACE;AAAA,kDAc4BnB,MAAM,CAACmB,OAdnC;AAAA,+BADF,EAEE;AAAM,IAAA,QAAQ,EAAGV,CAAD,IAAOD,iBAAiB,CAACC,CAAD,CAAxC;AAAA,kDAa4BT,MAAM,CAACmB,OAbnC;AAAA,KACE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,MAAxB;AAA+B,IAAA,EAAE,EAAC,MAAlC;AAAuE,IAAA,QAAQ,EAAEJ,QAAjF;AAAA,kDAY0Bf,MAAM,CAACmB,OAZjC,aAAmD;AAAnD,IADF,EAEE;AAAO,IAAA,OAAO,EAAC,MAAf;AAAA,kDAW0BnB,MAAM,CAACmB,OAXjC,aAAgC;AAAhC,KACGd,QADH,CAFF,EAKE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,KAAK,EAAC,QAA5B;AAAA,kDAQ0BL,MAAM,CAACmB,OARjC;AAAA,cALF,CAFF;AAAA;AAAA,cAe8BnB,MAAM,CAACmB,OAfrC;AAAA,uFAe8BnB,MAAM,CAACmB,OAfrC;;mFAAA,EADF;AAwDD,CApFD;;AAsFA,eAAelB,UAAf","sourcesContent":["import { useState, useContext} from 'react'\r\nimport { GlobalContext } from '../context/GlobalContext';\r\nimport colors from '../css-variables/colors';\r\n\r\n\r\nconst FileUpload = ({setEditMode}) => {\r\n\r\n  const [file, setFile] = useState('');\r\n  const [filename, setFilename] = useState('Upload photo - max size 70 KB');\r\n\r\n  const { uploadFile } = useContext(GlobalContext);\r\n\r\n  const uploadFileHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    // Check for max size\r\n    if (file.size > 70000) {\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    uploadFile(formData);\r\n    setEditMode(false);\r\n  }\r\n\r\n  const onChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n    setFilename(e.target.files[0].name);\r\n  }\r\n\r\n\r\n  return (\r\n    <div id=\"file-upload\">\r\n      <h2>Upload a profile photo:</h2>\r\n      <form onSubmit={(e) => uploadFileHandler(e)}>\r\n        <input type=\"file\" name=\"file\" id=\"file\" className=\"custom-file-input\" onChange={onChange} />\r\n        <label htmlFor=\"file\" className=\"custom-file-label\">\r\n          {filename}\r\n        </label>\r\n        <button type=\"submit\" value=\"Upload\">Upload</button>\r\n      </form>\r\n\r\n\r\n      <style jsx>{`\r\n      \r\n        #file-upload {\r\n          margin-top: 3rem;\r\n          border-top: 1px solid ${colors.primary};\r\n          padding-top: 2rem;\r\n        }\r\n\r\n        #file-upload h2 {\r\n          margin-bottom: 1rem;\r\n        }\r\n      \r\n        form {\r\n          display: flex;\r\n          flex-direction: column;\r\n        }\r\n\r\n        input[type=\"file\"] {\r\n          font-size: 1rem;\r\n        }\r\n\r\n        input#file-upload-button {\r\n          border-radius: 5px;\r\n          padding: 1rem;\r\n        }\r\n\r\n        label {\r\n          margin: 0.5rem 0;\r\n        }\r\n\r\n        button {\r\n          width: 83px;\r\n          margin-top: 1rem;\r\n        }\r\n        \r\n        input {\r\n          margin: 1rem 0; \r\n        }\r\n      \r\n      `}</style>\r\n\r\n    </div> \r\n\r\n  )\r\n}\r\n\r\nexport default FileUpload;\r\n"]},"metadata":{},"sourceType":"module"}
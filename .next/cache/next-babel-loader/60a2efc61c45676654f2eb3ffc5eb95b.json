{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport { useContext, useState, useEffect, useRef } from 'react';\nimport { GlobalContext } from '../context/GlobalContext';\nimport colors from '../css-variables/colors';\n\nvar Comment = function Comment(_ref) {\n  _s();\n\n  var comment = _ref.comment;\n  var commenterId = comment.commenter._id;\n\n  var _useContext = useContext(GlobalContext),\n      getCommentUser = _useContext.getCommentUser,\n      removeCommentFromPlaylist = _useContext.removeCommentFromPlaylist,\n      currentUser = _useContext.currentUser,\n      fetchProfileUser = _useContext.fetchProfileUser,\n      editComment = _useContext.editComment;\n\n  var _useState = useState({\n    firstName: '',\n    lastName: '',\n    profilePhotoFilename: ''\n  }),\n      commentUser = _useState[0],\n      setCommentUser = _useState[1];\n\n  var _useState2 = useState(false),\n      editMode = _useState2[0],\n      setEditMode = _useState2[1];\n\n  var editedContentRef = useRef();\n  useEffect(function () {\n    function fetchData() {\n      return _fetchData.apply(this, arguments);\n    }\n\n    function _fetchData() {\n      _fetchData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var user;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getCommentUser(comment.commenter._id);\n\n              case 2:\n                user = _context.sent;\n                setCommentUser({\n                  firstName: user.firstName,\n                  lastName: user.lastName,\n                  profilePhotoFilename: user.profilePhotoFilename\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _fetchData.apply(this, arguments);\n    }\n\n    fetchData();\n  }, []); // const [content, setContent] = useState('');\n  // const handleChange = (e) => {\n  //   setContent(e.target.value);\n  // }\n\n  var editCommentClickHandler = function editCommentClickHandler() {\n    //Show the edit comment textarea\n    setEditMode(!editMode);\n  };\n\n  var editCommentSubmitHandler = function editCommentSubmitHandler(e) {\n    e.preventDefault(); // Check if the content is empty\n\n    if (editedContentRef.current.value.trim().length === 0) {\n      return;\n    }\n\n    editComment(comment._id, editedContentRef.current.value); // Exit edit mode\n\n    setEditMode(false);\n  };\n\n  var convertDate = function convertDate(millisecs) {\n    var d = new Date(+millisecs); // return d.toLocaleString();\n\n    var dateArray = d.toLocaleString().split(\", \"); // console.log(array);\n\n    return dateArray;\n  };\n\n  var removeCommentClickHandler = function removeCommentClickHandler() {\n    removeCommentFromPlaylist(comment._id);\n  };\n\n  var commenterClickHandler = function commenterClickHandler() {\n    fetchProfileUser(commenterId, false);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(React.Fragment, null, __jsx(\"div\", {\n    key: comment._id,\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"comment\"\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"content\"\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"avatar\"\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"avatar-crop\"\n  }, commentUser.profilePhotoFilename !== null && commentUser.profilePhotoFilename !== '' && __jsx(Link, {\n    href: \"/profile/[userId]\",\n    as: \"/profile/\".concat(commenterId)\n  }, __jsx(\"a\", {\n    onClick: commenterClickHandler,\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]])\n  }, __jsx(\"img\", {\n    src: \"/image/\".concat(commentUser.profilePhotoFilename),\n    alt: \"avatar\",\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]])\n  }))), (commentUser.profilePhotoFilename === null || commentUser.profilePhotoFilename === '') && __jsx(Link, {\n    href: \"/profile/[userId]\",\n    as: \"/profile/\".concat(commenterId)\n  }, __jsx(\"a\", {\n    onClick: commenterClickHandler,\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]])\n  }, __jsx(\"img\", {\n    src: \"/default-avatar.jpg\",\n    alt: \"avatar\",\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]])\n  }))))), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"commenter\"\n  }, __jsx(Link, {\n    href: \"/profile/[userId]\",\n    as: \"/profile/\".concat(commenterId)\n  }, __jsx(\"a\", {\n    onClick: commenterClickHandler,\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]])\n  }, __jsx(\"h3\", {\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]])\n  }, commentUser.firstName, \" \", commentUser.lastName)))), !editMode && __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]])\n  }, comment.content), editMode && __jsx(\"section\", {\n    id: \"edit-comment\",\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]])\n  }, __jsx(\"form\", {\n    id: \"edit-form\",\n    onSubmit: function onSubmit(e) {\n      return editCommentSubmitHandler(e);\n    },\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]])\n  }, __jsx(\"textarea\", {\n    name: \"edit-comment-input\",\n    id: \"edit-comment-input\",\n    defaultValue: comment.content,\n    cols: \"30\",\n    rows: \"5\",\n    ref: editedContentRef,\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]])\n  }), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"edit-btns\"\n  }, __jsx(\"button\", {\n    type: \"submit\",\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]])\n  }, __jsx(\"i\", {\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"fa fa-pencil\"\n  })), __jsx(\"button\", {\n    onClick: editCommentClickHandler,\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]])\n  }, __jsx(\"i\", {\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"fa fa-window-close\"\n  })))))), !editMode && __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"date-container\"\n  }, currentUser.id === commenterId && !editMode && __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"comment-btns\"\n  }, __jsx(\"button\", {\n    onClick: editCommentClickHandler,\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]])\n  }, __jsx(\"i\", {\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"fa fa-pencil-square-o\"\n  })), __jsx(\"button\", {\n    onClick: removeCommentClickHandler,\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]])\n  }, __jsx(\"i\", {\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"fa fa-trash\"\n  }))), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"date-time\"\n  }, convertDate(comment.createdAt).map(function (date) {\n    return __jsx(\"h4\", {\n      key: date,\n      className: _JSXStyle.dynamic([[\"2745832357\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"date\"\n    }, date);\n  }))))), __jsx(_JSXStyle, {\n    id: \"2745832357\",\n    dynamic: [colors.primary, colors.primary, colors.primary]\n  }, \".comment.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;border:1px solid black;border-radius:5px;margin:1rem 0;background-color:white;}.commenter.__jsx-style-dynamic-selector{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-right:1px solid \".concat(colors.primary, \";}.commenter.__jsx-style-dynamic-selector h3.__jsx-style-dynamic-selector{margin:0 1rem;}.content.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;padding:1.2rem 0 1.2rem 1.2rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.comment-info.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:1rem;}.avatar.__jsx-style-dynamic-selector{max-height:50px;}.avatar-crop.__jsx-style-dynamic-selector{max-width:50px;max-height:50px;overflow:hidden;border-radius:50%;}img.__jsx-style-dynamic-selector{max-width:50px;max-height:75px;}h4.__jsx-style-dynamic-selector{margin-right:1rem;text-align:center;}p.__jsx-style-dynamic-selector{margin:0 1.5rem;word-wrap:break-word;width:650px;}.date-container.__jsx-style-dynamic-selector{margin:1rem 0 1rem auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-right:0.5rem;border-left:1px solid \").concat(colors.primary, \";}.date-time.__jsx-style-dynamic-selector{margin-top:0.5rem;}.date-container.__jsx-style-dynamic-selector h4.__jsx-style-dynamic-selector{font-size:0.9rem;padding:0 1rem 0 1.5rem;width:100%;}.comment-btns.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;margin:0 auto;padding-left:1.15rem;}button.__jsx-style-dynamic-selector{background-color:white;color:white;border:none;cursor:pointer;font-size:1rem;position:relative;}i.__jsx-style-dynamic-selector{color:\").concat(colors.primary, \";font-size:1.5rem;-webkit-transition:color 0.2s ease-in-out;transition:color 0.2s ease-in-out;}.comment-btns.__jsx-style-dynamic-selector i.__jsx-style-dynamic-selector{position:absolute;}i.fa-pencil-square-o.__jsx-style-dynamic-selector{top:8px;left:-2px;}i.fa-trash.__jsx-style-dynamic-selector{top:6px;left:0px;}i.__jsx-style-dynamic-selector:hover{color:#e5305a;}button.__jsx-style-dynamic-selector:focus{outline:none;}section#edit-comment.__jsx-style-dynamic-selector{width:85%;margin-left:1rem;}form#edit-form.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}textarea.__jsx-style-dynamic-selector{width:100%;font:inherit;padding:0.5rem;}#edit-comment.__jsx-style-dynamic-selector button.__jsx-style-dynamic-selector{height:50px;padding:0 0.5rem;}.edit-btns.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}i.fa-pencil.__jsx-style-dynamic-selector{margin-left:0.5rem;}i.fa-window-close.__jsx-style-dynamic-selector{margin-right:0.5rem;}@media (max-width:1150px ){p.__jsx-style-dynamic-selector{width:400px;}}@media (max-width:1070px ){p.__jsx-style-dynamic-selector{width:350px;}}@media (max-width:1000px ){p.__jsx-style-dynamic-selector{width:300px;}.avatar.__jsx-style-dynamic-selector{display:none;}.content.__jsx-style-dynamic-selector{padding-left:0.5rem;}}@media (max-width:860px){.comment.__jsx-style-dynamic-selector{display:grid;position:relative;}.date-container.__jsx-style-dynamic-selector{position:absolute;top:-11px;right:-7px;border:none;}.edit-btns.__jsx-style-dynamic-selector{position:absolute;top:2px;right:1px;border:none;}textarea.__jsx-style-dynamic-selector{margin-top:1.4rem;}.date-time.__jsx-style-dynamic-selector{display:none;}}@media (max-width:830px){.content.__jsx-style-dynamic-selector{display:grid;width:100%;}.comment.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}p.__jsx-style-dynamic-selector{width:480px;margin-top:1.5rem;}.avatar.__jsx-style-dynamic-selector{display:block;position:absolute;top:18px;left:16px;}.commenter.__jsx-style-dynamic-selector h3.__jsx-style-dynamic-selector{margin:0.7rem 0rem 0rem 4.3rem;}.commenter.__jsx-style-dynamic-selector{border:none;}section#edit-comment.__jsx-style-dynamic-selector{width:92%;}}@media (max-width:800px ){p.__jsx-style-dynamic-selector{width:59vw;}}@media (max-width:768px ){.commenter.__jsx-style-dynamic-selector{border-right:none;}p.__jsx-style-dynamic-selector{width:55vw;}.content.__jsx-style-dynamic-selector{display:grid;}}@media (max-width:660px){p.__jsx-style-dynamic-selector{width:68vw;}}@media (max-width:610px){section#edit-comment.__jsx-style-dynamic-selector{width:90%;}.content.__jsx-style-dynamic-selector{padding-left:0rem;}h3.__jsx-style-dynamic-selector{padding-left:0.6rem;}}@media (max-width:560px){p.__jsx-style-dynamic-selector{font-size:0.9rem;}}@media (max-width:500px){p.__jsx-style-dynamic-selector{width:65vw;}.comment.__jsx-style-dynamic-selector{padding-top:1rem;}.avatar.__jsx-style-dynamic-selector{top:33px;}}@media (max-width:440px){p.__jsx-style-dynamic-selector{width:63vw;}}@media (max-width:420px){p.__jsx-style-dynamic-selector{width:69vw;}}@media (max-width:360px){p.__jsx-style-dynamic-selector{width:65vw;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxDb2RpbmdcXE15UHJvamVjdHNcXGNvZGVycy1qdWtlYm94XFxjb21wb25lbnRzXFxDb21tZW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTRKa0IsQUFJc0IsQUFVRCxBQU9FLEFBSUQsQUFPQSxBQU9HLEFBSUQsQUFPQSxBQUtHLEFBS0YsQUFRUSxBQVVOLEFBSUQsQUFNSixBQVFRLEFBU1ksQUFNakIsQUFJVixBQUtBLEFBS00sQUFJRCxBQUlILEFBS0csQUFJRixBQU1DLEFBS0MsQUFJTSxBQUlDLEFBTU4sQUFNQSxBQU1BLEFBSUMsQUFJTyxBQVdQLEFBS0ssQUFPQSxBQU9BLEFBSUwsQUFNQSxBQUtBLEFBSUQsQUFLRSxBQU9pQixBQUluQixBQUlGLEFBTUMsQUFhTyxBQU9QLEFBSUUsQUFNRixBQU1ELEFBSVEsQUFJRSxBQU9ILEFBTU4sQUFLTSxBQUlSLEFBT0UsQUFPQSxBQU9BLFFBek9ILEFBS0QsQ0FnTlQsQ0FuTWlCLEFBMkhqQixBQTBDQSxDQTVKYSxBQXlIYixBQW1CQSxBQVVBLEFBNEJBLEFBZ0JBLEFBT0EsQUFRQSxDQWpWZSxBQXNJRSxBQW1CakIsQUFNQSxBQU1BLEFBeURvQixBQWdCcEIsQ0EzSEYsQUFzREUsQUFlb0IsQUF1QnBCLEFBTWEsQUEyRGIsQ0F6UUEsQUF3R0YsQUFvSHNCLENBdE1GLEFBT0EsQ0FYbEIsQUF1QnVCLENBb0JHLEFBdUM1QixBQWdNRSxBQVdBLENBN1FvQixBQXVCcEIsQUFpQ0YsQUFLQSxBQXVGYyxBQU9GLEFBT1YsQUEwREEsQUEyQkEsQ0FqSkYsQ0FJQSxBQTBCRSxBQXVIQSxHQWxOWSxDQTVCRyxBQTJFQSxBQXFGZixFQWpCWSxDQTdFZCxDQXNFZSxDQXZEZixDQXdGRSxDQWpNa0IsQUFPbEIsQUFvSkEsQUFpREEsQ0FOVyxHQWpKQyxBQVFLLENBakRqQixBQTRKYyxDQXJKQSxFQWlGaEIsQUE2RGdCLEVBMUhELEFBZ0tELE1BdE1RLEFBcURMLENBbUhmLENBckpBLEVBOElBLEFBc0NBLENBaEtBLEFBc0JrQyxVQVBuQixHQXJEZixTQTFDZ0MsQUFxQm5CLEFBT0EsQUF3REMsQUFrRGhCLEFBZUEsQUErRUUsR0FwSWtCLFFBMUVlLEFBT1osQ0FsQkEsQUEwRUwsU0FZbEIsR0FoQzBCLEVBcUJELGdCQS9ERixLQWlFckIsT0FlRixnREFyQ3VCLEVBcENGLENBakJwQixVQVpjLE1BOEJiLEtBN0J5QixTQXNCekIsY0FyQm9CLFFBVXBCLFVBVGdCLGNBQ1MsY0E4REEsU0E3RHpCLDBGQThEdUIscUJBQzhCLG1EQUNyRCIsImZpbGUiOiJDOlxcQ29kaW5nXFxNeVByb2plY3RzXFxjb2RlcnMtanVrZWJveFxcY29tcG9uZW50c1xcQ29tbWVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7XHJcbmltcG9ydCB7IHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgR2xvYmFsQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvR2xvYmFsQ29udGV4dCc7XHJcbmltcG9ydCBjb2xvcnMgZnJvbSAgJy4uL2Nzcy12YXJpYWJsZXMvY29sb3JzJztcclxuXHJcbmNvbnN0IENvbW1lbnQgPSAoe2NvbW1lbnR9KSA9PiB7XHJcbiAgXHJcbiAgY29uc3QgY29tbWVudGVySWQgPSBjb21tZW50LmNvbW1lbnRlci5faWQgXHJcbiAgXHJcbiAgY29uc3QgeyBnZXRDb21tZW50VXNlciwgcmVtb3ZlQ29tbWVudEZyb21QbGF5bGlzdCwgY3VycmVudFVzZXIsIGZldGNoUHJvZmlsZVVzZXIsIGVkaXRDb21tZW50IH0gPSB1c2VDb250ZXh0KEdsb2JhbENvbnRleHQpO1xyXG4gIFxyXG4gIGNvbnN0IFtjb21tZW50VXNlciwgc2V0Q29tbWVudFVzZXJdID0gdXNlU3RhdGUoe1xyXG4gICAgZmlyc3ROYW1lOiAnJyxcclxuICAgIGxhc3ROYW1lOicnLFxyXG4gICAgcHJvZmlsZVBob3RvRmlsZW5hbWU6ICcnXHJcbiAgfSk7XHJcbiAgXHJcbiAgY29uc3QgW2VkaXRNb2RlLCBzZXRFZGl0TW9kZV0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgXHJcbiAgY29uc3QgZWRpdGVkQ29udGVudFJlZiA9IHVzZVJlZigpO1xyXG5cclxuICBcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hEYXRhKCkge1xyXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgZ2V0Q29tbWVudFVzZXIoY29tbWVudC5jb21tZW50ZXIuX2lkKTtcclxuICAgICAgc2V0Q29tbWVudFVzZXIoe1xyXG4gICAgICAgIGZpcnN0TmFtZTogdXNlci5maXJzdE5hbWUsXHJcbiAgICAgICAgbGFzdE5hbWU6IHVzZXIubGFzdE5hbWUsXHJcbiAgICAgICAgcHJvZmlsZVBob3RvRmlsZW5hbWU6IHVzZXIucHJvZmlsZVBob3RvRmlsZW5hbWVcclxuICAgICAgfSlcclxuICAgIH1cclxuICAgIGZldGNoRGF0YSgpO1xyXG4gIH0sIFtdKVxyXG5cclxuICAvLyBjb25zdCBbY29udGVudCwgc2V0Q29udGVudF0gPSB1c2VTdGF0ZSgnJyk7XHJcblxyXG4gIC8vIGNvbnN0IGhhbmRsZUNoYW5nZSA9IChlKSA9PiB7XHJcbiAgLy8gICBzZXRDb250ZW50KGUudGFyZ2V0LnZhbHVlKTtcclxuICAvLyB9XHJcblxyXG4gIFxyXG4gIGNvbnN0IGVkaXRDb21tZW50Q2xpY2tIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgLy9TaG93IHRoZSBlZGl0IGNvbW1lbnQgdGV4dGFyZWFcclxuICAgIHNldEVkaXRNb2RlKCFlZGl0TW9kZSk7IFxyXG4gIH1cclxuXHJcbiAgY29uc3QgZWRpdENvbW1lbnRTdWJtaXRIYW5kbGVyID0gKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIC8vIENoZWNrIGlmIHRoZSBjb250ZW50IGlzIGVtcHR5XHJcbiAgICBpZiAoZWRpdGVkQ29udGVudFJlZi5jdXJyZW50LnZhbHVlLnRyaW0oKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgZWRpdENvbW1lbnQoY29tbWVudC5faWQsIGVkaXRlZENvbnRlbnRSZWYuY3VycmVudC52YWx1ZSk7XHJcbiAgICAvLyBFeGl0IGVkaXQgbW9kZVxyXG4gICAgc2V0RWRpdE1vZGUoZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgXHJcbiAgY29uc3QgY29udmVydERhdGU9IChtaWxsaXNlY3MpID0+IHtcclxuICAgIGNvbnN0IGQgPSBuZXcgRGF0ZSgrbWlsbGlzZWNzKTtcclxuICAgIC8vIHJldHVybiBkLnRvTG9jYWxlU3RyaW5nKCk7XHJcbiAgICBjb25zdCBkYXRlQXJyYXkgPSBkLnRvTG9jYWxlU3RyaW5nKCkuc3BsaXQoXCIsIFwiKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKGFycmF5KTtcclxuICAgIHJldHVybiBkYXRlQXJyYXlcclxuICB9XHJcblxyXG4gIGNvbnN0IHJlbW92ZUNvbW1lbnRDbGlja0hhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICByZW1vdmVDb21tZW50RnJvbVBsYXlsaXN0KGNvbW1lbnQuX2lkKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGNvbW1lbnRlckNsaWNrSGFuZGxlciA9ICgpID0+IHtcclxuICAgIGZldGNoUHJvZmlsZVVzZXIoY29tbWVudGVySWQsIGZhbHNlKTtcclxuICB9XHJcblxyXG5cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDw+XHJcbiAgICA8PlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbW1lbnRcIiBrZXk9e2NvbW1lbnQuX2lkfT5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRlbnRcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXZhdGFyXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXZhdGFyLWNyb3BcIj5cclxuICAgICAgICAgICAgICB7Y29tbWVudFVzZXIucHJvZmlsZVBob3RvRmlsZW5hbWUgIT09IG51bGwgJiYgY29tbWVudFVzZXIucHJvZmlsZVBob3RvRmlsZW5hbWUgIT09ICcnICYmXHJcbiAgICAgICAgICAgICAgICA8TGluayBocmVmPVwiL3Byb2ZpbGUvW3VzZXJJZF1cIiBhcz17YC9wcm9maWxlLyR7Y29tbWVudGVySWR9YH0+XHJcbiAgICAgICAgICAgICAgICAgIDxhIG9uQ2xpY2s9e2NvbW1lbnRlckNsaWNrSGFuZGxlcn0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e2AvaW1hZ2UvJHtjb21tZW50VXNlci5wcm9maWxlUGhvdG9GaWxlbmFtZX1gfSBhbHQ9XCJhdmF0YXJcIiAvPlxyXG4gICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHsoY29tbWVudFVzZXIucHJvZmlsZVBob3RvRmlsZW5hbWUgPT09IG51bGwgfHwgY29tbWVudFVzZXIucHJvZmlsZVBob3RvRmlsZW5hbWUgPT09ICcnKSAmJlxyXG4gICAgICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9wcm9maWxlL1t1c2VySWRdXCIgYXM9e2AvcHJvZmlsZS8ke2NvbW1lbnRlcklkfWB9PlxyXG4gICAgICAgICAgICAgICAgICA8YSBvbkNsaWNrPXtjb21tZW50ZXJDbGlja0hhbmRsZXJ9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPScvZGVmYXVsdC1hdmF0YXIuanBnJyBhbHQ9XCJhdmF0YXJcIiAvPlxyXG4gICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbW1lbnRlclwiPlxyXG4gICAgICAgICAgICA8TGluayBocmVmPVwiL3Byb2ZpbGUvW3VzZXJJZF1cIiBhcz17YC9wcm9maWxlLyR7Y29tbWVudGVySWR9YH0+XHJcbiAgICAgICAgICAgICAgPGEgb25DbGljaz17Y29tbWVudGVyQ2xpY2tIYW5kbGVyfT48aDM+e2NvbW1lbnRVc2VyLmZpcnN0TmFtZX0ge2NvbW1lbnRVc2VyLmxhc3ROYW1lfTwvaDM+PC9hPlxyXG4gICAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgIHshZWRpdE1vZGUgJiYgXHJcbiAgICAgICAgICAgICAgPHA+e2NvbW1lbnQuY29udGVudH08L3A+XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAge2VkaXRNb2RlICYmXHJcbiAgICAgICAgICAgIDxzZWN0aW9uIGlkPVwiZWRpdC1jb21tZW50XCI+XHJcbiAgICAgICAgICAgICAgPGZvcm0gaWQ9XCJlZGl0LWZvcm1cIiBvblN1Ym1pdD17KGUpID0+IGVkaXRDb21tZW50U3VibWl0SGFuZGxlcihlKX0+XHJcbiAgICAgICAgICAgICAgICA8dGV4dGFyZWEgbmFtZT1cImVkaXQtY29tbWVudC1pbnB1dFwiIGlkPVwiZWRpdC1jb21tZW50LWlucHV0XCIgZGVmYXVsdFZhbHVlPXtjb21tZW50LmNvbnRlbnR9IGNvbHM9XCIzMFwiIHJvd3M9XCI1XCIgcmVmPXtlZGl0ZWRDb250ZW50UmVmfT48L3RleHRhcmVhPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0LWJ0bnNcIj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtcGVuY2lsXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtlZGl0Q29tbWVudENsaWNrSGFuZGxlcn0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtd2luZG93LWNsb3NlXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICAgICAgPC9zZWN0aW9uPlxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICA8L2Rpdj4gICAgICBcclxuXHJcbiAgICAgICAgeyFlZGl0TW9kZSAmJiBcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGF0ZS1jb250YWluZXJcIj5cclxuICAgICAgICAgICAge2N1cnJlbnRVc2VyLmlkID09PSBjb21tZW50ZXJJZCAmJiAhZWRpdE1vZGUgJiZcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbW1lbnQtYnRuc1wiPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtlZGl0Q29tbWVudENsaWNrSGFuZGxlcn0+XHJcbiAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLXBlbmNpbC1zcXVhcmUtb1wiPjwvaT5cclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtyZW1vdmVDb21tZW50Q2xpY2tIYW5kbGVyfT5cclxuICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtdHJhc2hcIj48L2k+XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRhdGUtdGltZVwiPlxyXG4gICAgICAgICAgICAgIHtjb252ZXJ0RGF0ZShjb21tZW50LmNyZWF0ZWRBdCkubWFwKGRhdGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDxoNCBjbGFzc05hbWU9XCJkYXRlXCIga2V5PXtkYXRlfT57ZGF0ZX08L2g0PlxyXG4gICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIH0gIFxyXG5cclxuICAgICAgICBcclxuXHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgIDwvPlxyXG5cclxuICAgIFxyXG5cclxuICAgICAgPHN0eWxlIGpzeD57YFxyXG5cclxuICAgICAgLmNvbW1lbnQge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgICAgICBtYXJnaW46IDFyZW0gMDtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmNvbW1lbnRlciB7XHJcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAke2NvbG9ycy5wcmltYXJ5fVxyXG4gICAgICB9XHJcblxyXG4gICAgICAuY29tbWVudGVyIGgzIHtcclxuICAgICAgICBtYXJnaW46IDAgMXJlbTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmNvbnRlbnQge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgcGFkZGluZzogMS4ycmVtIDAgMS4ycmVtIDEuMnJlbTtcclxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuY29tbWVudC1pbmZvIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDFyZW07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5hdmF0YXIge1xyXG4gICAgICAgIG1heC1oZWlnaHQ6IDUwcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5hdmF0YXItY3JvcCB7XHJcbiAgICAgICAgbWF4LXdpZHRoOiA1MHB4O1xyXG4gICAgICAgIG1heC1oZWlnaHQ6IDUwcHg7XHJcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGltZyB7XHJcbiAgICAgICAgbWF4LXdpZHRoOiA1MHB4O1xyXG4gICAgICAgIG1heC1oZWlnaHQ6IDc1cHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGg0IHtcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDFyZW07XHJcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBwIHtcclxuICAgICAgICBtYXJnaW46IDAgMS41cmVtO1xyXG4gICAgICAgIC8qIG92ZXJmbG93LXk6IHNjcm9sbDsgKi9cclxuICAgICAgICAvKiBoZWlnaHQ6IDEwMHB4OyAqL1xyXG4gICAgICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDtcclxuICAgICAgICB3aWR0aDogNjUwcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5kYXRlLWNvbnRhaW5lciB7XHJcbiAgICAgICAgbWFyZ2luOiAxcmVtIDAgMXJlbSBhdXRvO1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDAuNXJlbTtcclxuICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICR7Y29sb3JzLnByaW1hcnl9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZGF0ZS10aW1lIHtcclxuICAgICAgICBtYXJnaW4tdG9wOiAwLjVyZW07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5kYXRlLWNvbnRhaW5lciBoNCB7XHJcbiAgICAgICAgZm9udC1zaXplOiAwLjlyZW07XHJcbiAgICAgICAgcGFkZGluZzogMCAxcmVtIDAgMS41cmVtO1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuY29tbWVudC1idG5zIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGhlaWdodDogNDBweDtcclxuICAgICAgICBtYXJnaW46IDAgYXV0bztcclxuICAgICAgICBwYWRkaW5nLWxlZnQ6IDEuMTVyZW07XHJcblxyXG4gICAgICB9XHJcblxyXG4gICAgICBidXR0b24ge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgZm9udC1zaXplOiAxcmVtO1xyXG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB9XHJcblxyXG4gICAgaSB7XHJcbiAgICAgIGNvbG9yOiAke2NvbG9ycy5wcmltYXJ5fTtcclxuICAgICAgZm9udC1zaXplOiAxLjVyZW07XHJcbiAgICAgIHRyYW5zaXRpb246IGNvbG9yIDAuMnMgZWFzZS1pbi1vdXQ7XHJcbiAgICB9XHJcblxyXG4gICAgLmNvbW1lbnQtYnRucyBpIHtcclxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgfVxyXG5cclxuICAgIGkuZmEtcGVuY2lsLXNxdWFyZS1vIHtcclxuICAgICAgdG9wOiA4cHg7XHJcbiAgICAgIGxlZnQ6IC0ycHg7XHJcbiAgICB9XHJcblxyXG4gICAgaS5mYS10cmFzaCB7XHJcbiAgICAgIHRvcDogNnB4O1xyXG4gICAgICBsZWZ0OiAwcHg7XHJcbiAgICB9XHJcblxyXG4gICAgaTpob3ZlciB7XHJcbiAgICAgIGNvbG9yOiAjZTUzMDVhO1xyXG4gICAgfVxyXG5cclxuICAgIGJ1dHRvbjpmb2N1cyB7XHJcbiAgICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgICB9XHJcblxyXG4gICAgc2VjdGlvbiNlZGl0LWNvbW1lbnQge1xyXG4gICAgICB3aWR0aDogODUlO1xyXG4gICAgICBtYXJnaW4tbGVmdDogMXJlbTtcclxuICAgIH1cclxuXHJcbiAgICBmb3JtI2VkaXQtZm9ybSB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRleHRhcmVhIHtcclxuICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgIGZvbnQ6IGluaGVyaXQ7XHJcbiAgICAgIHBhZGRpbmc6IDAuNXJlbTtcclxuICAgIH1cclxuXHJcbiAgICAjZWRpdC1jb21tZW50IGJ1dHRvbiB7XHJcbiAgICAgIGhlaWdodDogNTBweDtcclxuICAgICAgcGFkZGluZzogMCAwLjVyZW07XHJcbiAgICB9XHJcblxyXG4gICAgLmVkaXQtYnRucyB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICB9XHJcblxyXG4gICAgaS5mYS1wZW5jaWwge1xyXG4gICAgICBtYXJnaW4tbGVmdDogMC41cmVtO1xyXG4gICAgfVxyXG5cclxuICAgIGkuZmEtd2luZG93LWNsb3NlIHtcclxuICAgICAgbWFyZ2luLXJpZ2h0OiAwLjVyZW07XHJcbiAgICB9XHJcblxyXG4gICAgLyogTWVkaWEgcXVlcmllcyAqL1xyXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDExNTBweCApIHtcclxuICAgICAgcCB7XHJcbiAgICAgICAgd2lkdGg6IDQwMHB4O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDEwNzBweCApIHtcclxuICAgICAgcCB7XHJcbiAgICAgICAgd2lkdGg6IDM1MHB4O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDEwMDBweCApIHtcclxuICAgICAgcCB7XHJcbiAgICAgICAgd2lkdGg6IDMwMHB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuYXZhdGFyIHtcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuY29udGVudCB7XHJcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAwLjVyZW07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qIC5jb21tZW50IHtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICB9ICovXHJcbiAgICB9XHJcblxyXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDg2MHB4KSB7XHJcbiAgICAgIC5jb21tZW50IHtcclxuICAgICAgICBkaXNwbGF5OiBncmlkO1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmRhdGUtY29udGFpbmVyIHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgdG9wOiAtMTFweDtcclxuICAgICAgICByaWdodDogLTdweDtcclxuICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5lZGl0LWJ0bnMge1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB0b3A6IDJweDtcclxuICAgICAgICByaWdodDogMXB4O1xyXG4gICAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGV4dGFyZWEge1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDEuNHJlbTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmRhdGUtdGltZSB7XHJcbiAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA4MzBweCkge1xyXG4gICAgICAuY29udGVudCB7XHJcbiAgICAgICAgZGlzcGxheTogZ3JpZDtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmNvbW1lbnQge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHAge1xyXG4gICAgICAgIHdpZHRoOiA0ODBweDtcclxuICAgICAgICBtYXJnaW4tdG9wOiAxLjVyZW07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5hdmF0YXIge1xyXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB0b3A6IDE4cHg7XHJcbiAgICAgICAgbGVmdDogMTZweDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmNvbW1lbnRlciBoMyB7XHJcbiAgICAgICAgbWFyZ2luOiAwLjdyZW0gMHJlbSAwcmVtIDQuM3JlbTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmNvbW1lbnRlciB7XHJcbiAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWN0aW9uI2VkaXQtY29tbWVudCB7XHJcbiAgICAgICAgd2lkdGg6IDkyJTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA4MDBweCApIHtcclxuICAgICAgcCB7XHJcbiAgICAgICAgd2lkdGg6IDU5dnc7XHJcbiAgICAgICAgLyogbWFyZ2luLXJpZ2h0OiAwLjVyZW07ICovXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyogTWVkaWEgcXVlcmllcyAqL1xyXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4ICkge1xyXG4gICAgICAuYXZhdGFyIHtcclxuICAgICAgICAvKiBkaXNwbGF5OiBub25lOyAqL1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuY29tbWVudGVyIHtcclxuICAgICAgICBib3JkZXItcmlnaHQ6IG5vbmU7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHAge1xyXG4gICAgICAgIC8qIG92ZXJmbG93OiBzY3JvbGw7ICovXHJcbiAgICAgICAgLyogaGVpZ2h0OiAxMDBweDsgKi9cclxuICAgICAgICAvKiB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7ICovXHJcbiAgICAgICAgd2lkdGg6IDU1dnc7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5jb250ZW50IHtcclxuICAgICAgICBkaXNwbGF5OiBncmlkO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDY2MHB4KSB7XHJcbiAgICAgIHAge1xyXG4gICAgICAgIHdpZHRoOiA2OHZ3O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDYxMHB4KSB7XHJcbiAgICAgIHNlY3Rpb24jZWRpdC1jb21tZW50IHtcclxuICAgICAgICB3aWR0aDogOTAlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuY29udGVudCB7XHJcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAwcmVtO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBoMyB7XHJcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAwLjZyZW07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBAbWVkaWEgKG1heC13aWR0aDogNTYwcHgpIHtcclxuICAgICAgcCB7XHJcbiAgICAgICAgLyogd2lkdGg6IDQ1dnc7ICovXHJcbiAgICAgICAgZm9udC1zaXplOiAwLjlyZW07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBAbWVkaWEgKG1heC13aWR0aDogNTAwcHgpIHtcclxuICAgICAgcCB7XHJcbiAgICAgICAgd2lkdGg6IDY1dnc7XHJcbiAgICAgICAgLyogZm9udC1zaXplOiAwLjlyZW07ICovXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5jb21tZW50IHtcclxuICAgICAgICBwYWRkaW5nLXRvcDogMXJlbTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmF2YXRhciB7XHJcbiAgICAgICAgdG9wOiAzM3B4O1xyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA0NDBweCkge1xyXG4gICAgICBwIHtcclxuICAgICAgICB3aWR0aDogNjN2dztcclxuICAgICAgICAvKiBmb250LXNpemU6IDAuOXJlbTsgKi9cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA0MjBweCkge1xyXG4gICAgICBwIHtcclxuICAgICAgICB3aWR0aDogNjl2dztcclxuICAgICAgICAvKiBmb250LXNpemU6IDAuOXJlbTsgKi9cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEBtZWRpYSAobWF4LXdpZHRoOiAzNjBweCkge1xyXG4gICAgICBwIHtcclxuICAgICAgICB3aWR0aDogNjV2dztcclxuICAgICAgICAvKiBmb250LXNpemU6IDAuOHJlbTsgKi9cclxuICAgICAgICAvKiBtYXJnaW4tbGVmdDogMXJlbTsgKi9cclxuICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgXHJcbiAgICBgfTwvc3R5bGU+XHJcblxyXG4gIDwvPlxyXG4gIClcclxufVxyXG5cclxuLy8gQ29tbWVudC5nZXRJbml0aWFsUHJvcHMgPSBhc3luYyBjdHggPT4ge1xyXG4vLyAgIGdldENvbW1lbnREYXRhXHJcbi8vIH1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbW1lbnQ7Il19 */\\n/*@ sourceURL=C:\\\\\\\\Coding\\\\\\\\MyProjects\\\\\\\\coders-jukebox\\\\\\\\components\\\\\\\\Comment.js */\")));\n}; // Comment.getInitialProps = async ctx => {\n//   getCommentData\n// }\n\n\n_s(Comment, \"Nh5K7MkuAL8hyRvqerkVCCxIb/Q=\");\n\n_c = Comment;\nexport default Comment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Comment\");","map":{"version":3,"sources":["C:/Coding/MyProjects/coders-jukebox/components/Comment.js"],"names":["Link","useContext","useState","useEffect","useRef","GlobalContext","colors","Comment","comment","commenterId","commenter","_id","getCommentUser","removeCommentFromPlaylist","currentUser","fetchProfileUser","editComment","firstName","lastName","profilePhotoFilename","commentUser","setCommentUser","editMode","setEditMode","editedContentRef","fetchData","user","editCommentClickHandler","editCommentSubmitHandler","e","preventDefault","current","value","trim","length","convertDate","millisecs","d","Date","dateArray","toLocaleString","split","removeCommentClickHandler","commenterClickHandler","primary","content","id","createdAt","map","date"],"mappings":"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","sourcesContent":["import Link from 'next/link';\r\nimport { useContext, useState, useEffect, useRef } from 'react';\r\nimport { GlobalContext } from '../context/GlobalContext';\r\nimport colors from  '../css-variables/colors';\r\n\r\nconst Comment = ({comment}) => {\r\n  \r\n  const commenterId = comment.commenter._id \r\n  \r\n  const { getCommentUser, removeCommentFromPlaylist, currentUser, fetchProfileUser, editComment } = useContext(GlobalContext);\r\n  \r\n  const [commentUser, setCommentUser] = useState({\r\n    firstName: '',\r\n    lastName:'',\r\n    profilePhotoFilename: ''\r\n  });\r\n  \r\n  const [editMode, setEditMode] = useState(false);\r\n  \r\n  const editedContentRef = useRef();\r\n\r\n  \r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const user = await getCommentUser(comment.commenter._id);\r\n      setCommentUser({\r\n        firstName: user.firstName,\r\n        lastName: user.lastName,\r\n        profilePhotoFilename: user.profilePhotoFilename\r\n      })\r\n    }\r\n    fetchData();\r\n  }, [])\r\n\r\n  // const [content, setContent] = useState('');\r\n\r\n  // const handleChange = (e) => {\r\n  //   setContent(e.target.value);\r\n  // }\r\n\r\n  \r\n  const editCommentClickHandler = () => {\r\n    //Show the edit comment textarea\r\n    setEditMode(!editMode); \r\n  }\r\n\r\n  const editCommentSubmitHandler = (e) => {\r\n    e.preventDefault();\r\n    // Check if the content is empty\r\n    if (editedContentRef.current.value.trim().length === 0) {\r\n      return;\r\n    }\r\n    editComment(comment._id, editedContentRef.current.value);\r\n    // Exit edit mode\r\n    setEditMode(false);\r\n  }\r\n\r\n  \r\n  const convertDate= (millisecs) => {\r\n    const d = new Date(+millisecs);\r\n    // return d.toLocaleString();\r\n    const dateArray = d.toLocaleString().split(\", \");\r\n    // console.log(array);\r\n    return dateArray\r\n  }\r\n\r\n  const removeCommentClickHandler = () => {\r\n    removeCommentFromPlaylist(comment._id);\r\n  }\r\n\r\n  const commenterClickHandler = () => {\r\n    fetchProfileUser(commenterId, false);\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n    <>\r\n      <div className=\"comment\" key={comment._id}>\r\n        <div className=\"content\">\r\n          <div className=\"avatar\">\r\n            <div className=\"avatar-crop\">\r\n              {commentUser.profilePhotoFilename !== null && commentUser.profilePhotoFilename !== '' &&\r\n                <Link href=\"/profile/[userId]\" as={`/profile/${commenterId}`}>\r\n                  <a onClick={commenterClickHandler}>\r\n                    <img src={`/image/${commentUser.profilePhotoFilename}`} alt=\"avatar\" />\r\n                  </a>\r\n                </Link>\r\n              }\r\n              {(commentUser.profilePhotoFilename === null || commentUser.profilePhotoFilename === '') &&\r\n                <Link href=\"/profile/[userId]\" as={`/profile/${commenterId}`}>\r\n                  <a onClick={commenterClickHandler}>\r\n                    <img src='/default-avatar.jpg' alt=\"avatar\" />\r\n                  </a>\r\n                </Link>\r\n              }\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"commenter\">\r\n            <Link href=\"/profile/[userId]\" as={`/profile/${commenterId}`}>\r\n              <a onClick={commenterClickHandler}><h3>{commentUser.firstName} {commentUser.lastName}</h3></a>\r\n            </Link>\r\n          </div>\r\n              \r\n          {!editMode && \r\n              <p>{comment.content}</p>\r\n          }\r\n\r\n          {editMode &&\r\n            <section id=\"edit-comment\">\r\n              <form id=\"edit-form\" onSubmit={(e) => editCommentSubmitHandler(e)}>\r\n                <textarea name=\"edit-comment-input\" id=\"edit-comment-input\" defaultValue={comment.content} cols=\"30\" rows=\"5\" ref={editedContentRef}></textarea>\r\n                <div className=\"edit-btns\">\r\n                  <button type=\"submit\">\r\n                    <i className=\"fa fa-pencil\"></i>\r\n                  </button>\r\n                  <button onClick={editCommentClickHandler}>\r\n                    <i className=\"fa fa-window-close\"></i>\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </section>\r\n          }\r\n\r\n        </div>      \r\n\r\n        {!editMode && \r\n          <div className=\"date-container\">\r\n            {currentUser.id === commenterId && !editMode &&\r\n              <div className=\"comment-btns\">\r\n                <button onClick={editCommentClickHandler}>\r\n                  <i className=\"fa fa-pencil-square-o\"></i>\r\n                </button>\r\n                <button onClick={removeCommentClickHandler}>\r\n                  <i className=\"fa fa-trash\"></i>\r\n                </button>\r\n              </div>\r\n            }\r\n            <div className=\"date-time\">\r\n              {convertDate(comment.createdAt).map(date => {\r\n                return <h4 className=\"date\" key={date}>{date}</h4>\r\n              })}\r\n            </div>\r\n          </div>\r\n        }  \r\n\r\n        \r\n\r\n      </div>\r\n\r\n    </>\r\n\r\n    \r\n\r\n      <style jsx>{`\r\n\r\n      .comment {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        width: 100%;\r\n        border: 1px solid black;\r\n        border-radius: 5px;\r\n        margin: 1rem 0;\r\n        background-color: white;\r\n      }\r\n\r\n      .commenter {\r\n        height: 100%;\r\n        display: flex;\r\n        align-items: center;\r\n        border-right: 1px solid ${colors.primary}\r\n      }\r\n\r\n      .commenter h3 {\r\n        margin: 0 1rem;\r\n      }\r\n\r\n      .content {\r\n        display: flex;\r\n        width: 100%;\r\n        padding: 1.2rem 0 1.2rem 1.2rem;\r\n        align-items: center;\r\n      }\r\n\r\n      .comment-info {\r\n        display: flex;\r\n        width: 100%;\r\n        align-items: center;\r\n        margin-left: 1rem;\r\n      }\r\n\r\n      .avatar {\r\n        max-height: 50px;\r\n      }\r\n\r\n      .avatar-crop {\r\n        max-width: 50px;\r\n        max-height: 50px;\r\n        overflow: hidden;\r\n        border-radius: 50%;\r\n      }\r\n\r\n      img {\r\n        max-width: 50px;\r\n        max-height: 75px;\r\n      }\r\n\r\n      h4 {\r\n        margin-right: 1rem;\r\n        text-align: center;\r\n      }\r\n\r\n      p {\r\n        margin: 0 1.5rem;\r\n        /* overflow-y: scroll; */\r\n        /* height: 100px; */\r\n        word-wrap: break-word;\r\n        width: 650px;\r\n      }\r\n\r\n      .date-container {\r\n        margin: 1rem 0 1rem auto;\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        justify-content: center;\r\n        padding-right: 0.5rem;\r\n        border-left: 1px solid ${colors.primary};\r\n      }\r\n\r\n      .date-time {\r\n        margin-top: 0.5rem;\r\n      }\r\n\r\n      .date-container h4 {\r\n        font-size: 0.9rem;\r\n        padding: 0 1rem 0 1.5rem;\r\n        width: 100%;\r\n      }\r\n\r\n      .comment-btns {\r\n        display: flex;\r\n        height: 40px;\r\n        margin: 0 auto;\r\n        padding-left: 1.15rem;\r\n\r\n      }\r\n\r\n      button {\r\n      background-color: white;\r\n      color: white;\r\n      border: none;\r\n      cursor: pointer;\r\n      font-size: 1rem;\r\n      position: relative;\r\n    }\r\n\r\n    i {\r\n      color: ${colors.primary};\r\n      font-size: 1.5rem;\r\n      transition: color 0.2s ease-in-out;\r\n    }\r\n\r\n    .comment-btns i {\r\n      position: absolute;\r\n    }\r\n\r\n    i.fa-pencil-square-o {\r\n      top: 8px;\r\n      left: -2px;\r\n    }\r\n\r\n    i.fa-trash {\r\n      top: 6px;\r\n      left: 0px;\r\n    }\r\n\r\n    i:hover {\r\n      color: #e5305a;\r\n    }\r\n\r\n    button:focus {\r\n      outline: none;\r\n    }\r\n\r\n    section#edit-comment {\r\n      width: 85%;\r\n      margin-left: 1rem;\r\n    }\r\n\r\n    form#edit-form {\r\n      display: flex;\r\n    }\r\n    \r\n    textarea {\r\n      width: 100%;\r\n      font: inherit;\r\n      padding: 0.5rem;\r\n    }\r\n\r\n    #edit-comment button {\r\n      height: 50px;\r\n      padding: 0 0.5rem;\r\n    }\r\n\r\n    .edit-btns {\r\n      display: flex;\r\n    }\r\n\r\n    i.fa-pencil {\r\n      margin-left: 0.5rem;\r\n    }\r\n\r\n    i.fa-window-close {\r\n      margin-right: 0.5rem;\r\n    }\r\n\r\n    /* Media queries */\r\n    @media (max-width: 1150px ) {\r\n      p {\r\n        width: 400px;\r\n      }\r\n    }\r\n\r\n    @media (max-width: 1070px ) {\r\n      p {\r\n        width: 350px;\r\n      }\r\n    }\r\n\r\n    @media (max-width: 1000px ) {\r\n      p {\r\n        width: 300px;\r\n      }\r\n\r\n      .avatar {\r\n        display: none;\r\n      }\r\n\r\n      .content {\r\n        padding-left: 0.5rem;\r\n      }\r\n\r\n      /* .comment {\r\n        flex-direction: column;\r\n        justify-content: center;\r\n      } */\r\n    }\r\n\r\n    @media (max-width: 860px) {\r\n      .comment {\r\n        display: grid;\r\n        position: relative;\r\n      }\r\n\r\n      .date-container {\r\n        position: absolute;\r\n        top: -11px;\r\n        right: -7px;\r\n        border: none;\r\n      }\r\n\r\n      .edit-btns {\r\n        position: absolute;\r\n        top: 2px;\r\n        right: 1px;\r\n        border: none;\r\n      }\r\n\r\n      textarea {\r\n        margin-top: 1.4rem;\r\n      }\r\n\r\n      .date-time {\r\n        display: none;\r\n      }\r\n    }\r\n\r\n    @media (max-width: 830px) {\r\n      .content {\r\n        display: grid;\r\n        width: 100%;\r\n      }\r\n\r\n      .comment {\r\n        display: flex;\r\n      }\r\n\r\n      p {\r\n        width: 480px;\r\n        margin-top: 1.5rem;\r\n      }\r\n\r\n      .avatar {\r\n        display: block;\r\n        position: absolute;\r\n        top: 18px;\r\n        left: 16px;\r\n      }\r\n\r\n      .commenter h3 {\r\n        margin: 0.7rem 0rem 0rem 4.3rem;\r\n      }\r\n\r\n      .commenter {\r\n        border: none;\r\n      }\r\n\r\n      section#edit-comment {\r\n        width: 92%;\r\n      }\r\n    }\r\n\r\n    @media (max-width: 800px ) {\r\n      p {\r\n        width: 59vw;\r\n        /* margin-right: 0.5rem; */\r\n      }\r\n    }\r\n\r\n\r\n    /* Media queries */\r\n    @media (max-width: 768px ) {\r\n      .avatar {\r\n        /* display: none; */\r\n      }\r\n\r\n      .commenter {\r\n        border-right: none;\r\n      }\r\n      \r\n      p {\r\n        /* overflow: scroll; */\r\n        /* height: 100px; */\r\n        /* word-wrap: break-word; */\r\n        width: 55vw;\r\n      }\r\n\r\n      .content {\r\n        display: grid;\r\n      }\r\n    }\r\n\r\n    @media (max-width: 660px) {\r\n      p {\r\n        width: 68vw;\r\n      }\r\n    }\r\n\r\n    @media (max-width: 610px) {\r\n      section#edit-comment {\r\n        width: 90%;\r\n      }\r\n\r\n      .content {\r\n        padding-left: 0rem;\r\n      }\r\n\r\n      h3 {\r\n        padding-left: 0.6rem;\r\n      }\r\n    }\r\n\r\n    @media (max-width: 560px) {\r\n      p {\r\n        /* width: 45vw; */\r\n        font-size: 0.9rem;\r\n      }\r\n    }\r\n\r\n    @media (max-width: 500px) {\r\n      p {\r\n        width: 65vw;\r\n        /* font-size: 0.9rem; */\r\n      }\r\n\r\n      .comment {\r\n        padding-top: 1rem;\r\n      }\r\n\r\n      .avatar {\r\n        top: 33px;\r\n      }\r\n\r\n    }\r\n\r\n    @media (max-width: 440px) {\r\n      p {\r\n        width: 63vw;\r\n        /* font-size: 0.9rem; */\r\n      }\r\n    }\r\n\r\n    @media (max-width: 420px) {\r\n      p {\r\n        width: 69vw;\r\n        /* font-size: 0.9rem; */\r\n      }\r\n    }\r\n\r\n    @media (max-width: 360px) {\r\n      p {\r\n        width: 65vw;\r\n        /* font-size: 0.8rem; */\r\n        /* margin-left: 1rem; */\r\n      }\r\n\r\n    }\r\n\r\n  \r\n    `}</style>\r\n\r\n  </>\r\n  )\r\n}\r\n\r\n// Comment.getInitialProps = async ctx => {\r\n//   getCommentData\r\n// }\r\n\r\nexport default Comment;"]},"metadata":{},"sourceType":"module"}
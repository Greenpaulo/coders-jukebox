{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport { useContext, useState, useEffect, useRef } from 'react';\nimport { GlobalContext } from '../context/GlobalContext';\nimport colors from '../css-variables/colors';\n\nvar Comment = function Comment(_ref) {\n  _s();\n\n  var comment = _ref.comment;\n  var commenterId = comment.commenter._id;\n\n  var _useContext = useContext(GlobalContext),\n      getCommentUser = _useContext.getCommentUser,\n      removeCommentFromPlaylist = _useContext.removeCommentFromPlaylist,\n      currentUser = _useContext.currentUser,\n      fetchProfileUser = _useContext.fetchProfileUser,\n      editComment = _useContext.editComment;\n\n  var _useState = useState({\n    firstName: '',\n    lastName: '',\n    profilePhotoFilename: ''\n  }),\n      commentUser = _useState[0],\n      setCommentUser = _useState[1];\n\n  var _useState2 = useState(false),\n      editMode = _useState2[0],\n      setEditMode = _useState2[1];\n\n  var editedContentRef = useRef();\n  useEffect(function () {\n    function fetchData() {\n      return _fetchData.apply(this, arguments);\n    }\n\n    function _fetchData() {\n      _fetchData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var user;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getCommentUser(comment.commenter._id);\n\n              case 2:\n                user = _context.sent;\n                setCommentUser({\n                  firstName: user.firstName,\n                  lastName: user.lastName,\n                  profilePhotoFilename: user.profilePhotoFilename\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _fetchData.apply(this, arguments);\n    }\n\n    fetchData();\n  }, []);\n\n  var editCommentClickHandler = function editCommentClickHandler() {\n    //Show the edit comment textarea\n    setEditMode(!editMode);\n  };\n\n  var editCommentSubmitHandler = function editCommentSubmitHandler(e) {\n    e.preventDefault(); // Check if the content is empty\n\n    if (editedContentRef.current.value.trim().length === 0) {\n      return;\n    }\n\n    editComment(comment._id, editedContentRef.current.value); // Exit edit mode\n\n    setEditMode(false);\n  };\n\n  var convertDate = function convertDate(millisecs) {\n    var d = new Date(+millisecs); // return d.toLocaleString();\n\n    var dateArray = d.toLocaleString().split(\", \"); // console.log(array);\n\n    return dateArray;\n  };\n\n  var removeCommentClickHandler = function removeCommentClickHandler() {\n    removeCommentFromPlaylist(comment._id);\n  };\n\n  var commenterClickHandler = function commenterClickHandler() {\n    fetchProfileUser(commenterId, false);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(React.Fragment, null, __jsx(\"div\", {\n    key: comment._id,\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"comment\"\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"content\"\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"avatar\"\n  }, __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"avatar-crop\"\n  }, commentUser.profilePhotoFilename !== null && commentUser.profilePhotoFilename !== '' && __jsx(Link, {\n    href: \"/profile/[userId]\",\n    as: \"/profile/\".concat(commenterId)\n  }, __jsx(\"a\", {\n    onClick: commenterClickHandler,\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]])\n  }, __jsx(\"img\", {\n    src: \"/image/\".concat(commentUser.profilePhotoFilename),\n    alt: \"avatar\",\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]])\n  }))), (commentUser.profilePhotoFilename === null || commentUser.profilePhotoFilename === '') && __jsx(Link, {\n    href: \"/profile/[userId]\",\n    as: \"/profile/\".concat(commenterId)\n  }, __jsx(\"a\", {\n    onClick: commenterClickHandler,\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]])\n  }, __jsx(\"img\", {\n    src: \"/default-avatar.jpg\",\n    alt: \"avatar\",\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]])\n  }))))), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"commenter\"\n  }, __jsx(Link, {\n    href: \"/profile/[userId]\",\n    as: \"/profile/\".concat(commenterId)\n  }, __jsx(\"a\", {\n    onClick: commenterClickHandler,\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]])\n  }, __jsx(\"h3\", {\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]])\n  }, commentUser.firstName, \" \", commentUser.lastName)))), !editMode && __jsx(\"p\", {\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]])\n  }, comment.content), editMode && __jsx(\"section\", {\n    id: \"edit-comment\",\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]])\n  }, __jsx(\"form\", {\n    id: \"edit-form\",\n    onSubmit: function onSubmit(e) {\n      return editCommentSubmitHandler(e);\n    },\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]])\n  }, __jsx(\"textarea\", {\n    name: \"edit-comment-input\",\n    id: \"edit-comment-input\",\n    defaultValue: comment.content,\n    cols: \"30\",\n    rows: \"5\",\n    ref: editedContentRef,\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]])\n  }), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"edit-btns\"\n  }, __jsx(\"button\", {\n    type: \"submit\",\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]])\n  }, __jsx(\"i\", {\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"fa fa-pencil\"\n  })), __jsx(\"button\", {\n    onClick: editCommentClickHandler,\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]])\n  }, __jsx(\"i\", {\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"fa fa-window-close\"\n  })))))), !editMode && __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"date-container\"\n  }, currentUser.id === commenterId && !editMode && __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"comment-btns\"\n  }, __jsx(\"button\", {\n    onClick: editCommentClickHandler,\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]])\n  }, __jsx(\"i\", {\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"fa fa-pencil-square-o\"\n  })), __jsx(\"button\", {\n    onClick: removeCommentClickHandler,\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]])\n  }, __jsx(\"i\", {\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"fa fa-trash\"\n  }))), __jsx(\"div\", {\n    className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"date-time\"\n  }, convertDate(comment.createdAt).map(function (date) {\n    return __jsx(\"h4\", {\n      key: date,\n      className: _JSXStyle.dynamic([[\"2800101501\", [colors.primary, colors.primary, colors.primary]]]) + \" \" + \"date\"\n    }, date);\n  }))))), __jsx(_JSXStyle, {\n    id: \"2800101501\",\n    dynamic: [colors.primary, colors.primary, colors.primary]\n  }, \".comment.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;border:1px solid black;border-radius:5px;margin:1rem 0;background-color:white;}.commenter.__jsx-style-dynamic-selector{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-right:1px solid \".concat(colors.primary, \";}.commenter.__jsx-style-dynamic-selector h3.__jsx-style-dynamic-selector{margin:0 1rem;}.content.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;padding:1.2rem 0 1.2rem 1.2rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.comment-info.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:1rem;}.avatar.__jsx-style-dynamic-selector{max-height:50px;}.avatar-crop.__jsx-style-dynamic-selector{max-width:50px;max-height:50px;overflow:hidden;border-radius:50%;}img.__jsx-style-dynamic-selector{max-width:50px;max-height:75px;}h4.__jsx-style-dynamic-selector{margin-right:1rem;text-align:center;}p.__jsx-style-dynamic-selector{margin:0 1.5rem;word-wrap:break-word;width:650px;}.date-container.__jsx-style-dynamic-selector{margin:1rem 0 1rem auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-right:0.5rem;border-left:1px solid \").concat(colors.primary, \";}.date-time.__jsx-style-dynamic-selector{margin-top:0.5rem;}.date-container.__jsx-style-dynamic-selector h4.__jsx-style-dynamic-selector{font-size:0.9rem;padding:0 1rem 0 1.5rem;width:100%;}.comment-btns.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;margin:0 auto;padding-left:1.15rem;}button.__jsx-style-dynamic-selector{background-color:white;color:white;border:none;cursor:pointer;font-size:1rem;position:relative;}i.__jsx-style-dynamic-selector{color:\").concat(colors.primary, \";font-size:1.5rem;-webkit-transition:color 0.2s ease-in-out;transition:color 0.2s ease-in-out;}.comment-btns.__jsx-style-dynamic-selector i.__jsx-style-dynamic-selector{position:absolute;}i.fa-pencil-square-o.__jsx-style-dynamic-selector{top:8px;left:-2px;}i.fa-trash.__jsx-style-dynamic-selector{top:6px;left:0px;}i.__jsx-style-dynamic-selector:hover{color:#e5305a;}button.__jsx-style-dynamic-selector:focus{outline:none;}section#edit-comment.__jsx-style-dynamic-selector{width:85%;margin-left:1rem;}form#edit-form.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}textarea.__jsx-style-dynamic-selector{width:100%;font:inherit;padding:0.5rem;}#edit-comment.__jsx-style-dynamic-selector button.__jsx-style-dynamic-selector{height:50px;padding:0 0.5rem;}.edit-btns.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}i.fa-pencil.__jsx-style-dynamic-selector{margin-left:0.5rem;}i.fa-window-close.__jsx-style-dynamic-selector{margin-right:0.5rem;}@media (max-width:1150px ){p.__jsx-style-dynamic-selector{width:400px;}}@media (max-width:1070px ){p.__jsx-style-dynamic-selector{width:350px;}}@media (max-width:1000px ){p.__jsx-style-dynamic-selector{width:300px;}.avatar.__jsx-style-dynamic-selector{display:none;}.content.__jsx-style-dynamic-selector{padding-left:0.5rem;}}@media (max-width:860px){.comment.__jsx-style-dynamic-selector{display:grid;position:relative;}.date-container.__jsx-style-dynamic-selector{position:absolute;top:-11px;right:-7px;border:none;}.edit-btns.__jsx-style-dynamic-selector{position:absolute;top:2px;right:1px;border:none;}textarea.__jsx-style-dynamic-selector{margin-top:1.4rem;}.date-time.__jsx-style-dynamic-selector{display:none;}}@media (max-width:830px){.content.__jsx-style-dynamic-selector{display:grid;width:100%;}.comment.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}p.__jsx-style-dynamic-selector{width:480px;margin-top:1.5rem;}.avatar.__jsx-style-dynamic-selector{display:block;position:absolute;top:18px;left:16px;}.commenter.__jsx-style-dynamic-selector h3.__jsx-style-dynamic-selector{margin:0.7rem 0rem 0rem 4.3rem;}.commenter.__jsx-style-dynamic-selector{border:none;}section#edit-comment.__jsx-style-dynamic-selector{width:92%;}}@media (max-width:800px ){p.__jsx-style-dynamic-selector{width:59vw;}}@media (max-width:768px ){.commenter.__jsx-style-dynamic-selector{border-right:none;}p.__jsx-style-dynamic-selector{width:55vw;}.content.__jsx-style-dynamic-selector{display:grid;}}@media (max-width:660px){p.__jsx-style-dynamic-selector{width:68vw;}}@media (max-width:610px){section#edit-comment.__jsx-style-dynamic-selector{width:90%;}.content.__jsx-style-dynamic-selector{padding-left:0rem;}h3.__jsx-style-dynamic-selector{padding-left:0.6rem;}}@media (max-width:560px){p.__jsx-style-dynamic-selector{font-size:0.9rem;}}@media (max-width:500px){p.__jsx-style-dynamic-selector{width:65vw;}.comment.__jsx-style-dynamic-selector{padding-top:1rem;}.avatar.__jsx-style-dynamic-selector{top:33px;}}@media (max-width:440px){p.__jsx-style-dynamic-selector{width:63vw;}}@media (max-width:420px){p.__jsx-style-dynamic-selector{width:69vw;}}@media (max-width:360px){p.__jsx-style-dynamic-selector{width:65vw;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxDb2RpbmdcXE15UHJvamVjdHNcXGNvZGVycy1qdWtlYm94XFxjb21wb25lbnRzXFxDb21tZW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXFKa0IsQUFJc0IsQUFVRCxBQU9FLEFBSUQsQUFPQSxBQU9HLEFBSUQsQUFPQSxBQUtHLEFBS0YsQUFNUSxBQVVOLEFBSUQsQUFNSixBQVFRLEFBU1ksQUFNakIsQUFJVixBQUtBLEFBS00sQUFJRCxBQUlILEFBS0csQUFJRixBQU1DLEFBS0MsQUFJTSxBQUlDLEFBTU4sQUFNQSxBQU1BLEFBSUMsQUFJTyxBQVdQLEFBS0ssQUFPQSxBQU9BLEFBSUwsQUFNQSxBQUtBLEFBSUQsQUFLRSxBQU9pQixBQUluQixBQUlGLEFBTUMsQUFhTyxBQU9QLEFBSUUsQUFNRixBQU1ELEFBSVEsQUFJRSxBQU9ILEFBTU4sQUFLTSxBQUlSLEFBT0UsQUFNQSxBQU1BLFFBdk9ILEFBS0QsQ0FnTlQsQ0FuTWlCLEFBMkhqQixBQTBDQSxDQTVKYSxBQXlIYixBQW1CQSxBQVVBLEFBNEJBLEFBZUEsQUFNQSxBQU1BLENBM1VlLEFBb0lFLEFBbUJqQixBQU1BLEFBTUEsQUF5RG9CLEFBZ0JwQixDQTNIRixBQXNERSxBQWVvQixBQXVCcEIsQUFNYSxBQTJEYixDQXZRQSxBQXNHRixBQW9Ic0IsQ0FwTUYsQUFPQSxDQVhsQixBQXFCdUIsQ0FvQkcsQUF1QzVCLEFBZ01FLEFBV0EsQ0EzUW9CLEFBcUJwQixBQWlDRixBQUtBLEFBdUZjLEFBT0YsQUFPVixBQTBEQSxBQTJCQSxDQWpKRixDQUlBLEFBMEJFLEFBdUhBLEdBbE5ZLENBNUJHLEFBMkVBLEFBcUZmLEVBakJZLENBN0VkLENBc0VlLENBdkRmLENBd0ZFLENBL0xrQixBQU9sQixBQWtKQSxBQWlEQSxDQU5XLEdBakpDLEFBUUssQ0EvQ2pCLEFBMEpjLENBckpBLEVBaUZoQixBQTZEZ0IsRUExSEQsQUFnS0QsTUFwTVEsQUFtREwsQ0FtSGYsQ0FySkEsRUE4SUEsQUFzQ0EsQ0FoS0EsQUFzQmtDLFVBUG5CLEdBbkRmLFNBMUNnQyxBQXFCbkIsQUFPQSxBQXNEQyxBQWtEaEIsQUFlQSxBQStFRSxHQXBJa0IsUUF4RWUsQUFPWixDQWxCQSxBQXdFTCxTQVlsQixHQWhDMEIsRUFxQkQsZ0JBN0RGLEtBK0RyQixPQWVGLGdEQXJDdUIsRUFsQ0YsQ0FqQnBCLFVBWmMsTUE4QmIsS0E3QnlCLFNBc0J6QixjQXJCb0IsUUFVcEIsVUFUZ0IsY0FDUyxjQTREQSxTQTNEekIsMEZBNER1QixxQkFDOEIsbURBQ3JEIiwiZmlsZSI6IkM6XFxDb2RpbmdcXE15UHJvamVjdHNcXGNvZGVycy1qdWtlYm94XFxjb21wb25lbnRzXFxDb21tZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJztcclxuaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBHbG9iYWxDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9HbG9iYWxDb250ZXh0JztcclxuaW1wb3J0IGNvbG9ycyBmcm9tICAnLi4vY3NzLXZhcmlhYmxlcy9jb2xvcnMnO1xyXG5cclxuY29uc3QgQ29tbWVudCA9ICh7Y29tbWVudH0pID0+IHtcclxuICBcclxuICBjb25zdCBjb21tZW50ZXJJZCA9IGNvbW1lbnQuY29tbWVudGVyLl9pZCBcclxuICBcclxuICBjb25zdCB7IGdldENvbW1lbnRVc2VyLCByZW1vdmVDb21tZW50RnJvbVBsYXlsaXN0LCBjdXJyZW50VXNlciwgZmV0Y2hQcm9maWxlVXNlciwgZWRpdENvbW1lbnQgfSA9IHVzZUNvbnRleHQoR2xvYmFsQ29udGV4dCk7XHJcbiAgXHJcbiAgY29uc3QgW2NvbW1lbnRVc2VyLCBzZXRDb21tZW50VXNlcl0gPSB1c2VTdGF0ZSh7XHJcbiAgICBmaXJzdE5hbWU6ICcnLFxyXG4gICAgbGFzdE5hbWU6JycsXHJcbiAgICBwcm9maWxlUGhvdG9GaWxlbmFtZTogJydcclxuICB9KTtcclxuICBcclxuICBjb25zdCBbZWRpdE1vZGUsIHNldEVkaXRNb2RlXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBcclxuICBjb25zdCBlZGl0ZWRDb250ZW50UmVmID0gdXNlUmVmKCk7XHJcblxyXG4gIFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBhc3luYyBmdW5jdGlvbiBmZXRjaERhdGEoKSB7XHJcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRDb21tZW50VXNlcihjb21tZW50LmNvbW1lbnRlci5faWQpO1xyXG4gICAgICBzZXRDb21tZW50VXNlcih7XHJcbiAgICAgICAgZmlyc3ROYW1lOiB1c2VyLmZpcnN0TmFtZSxcclxuICAgICAgICBsYXN0TmFtZTogdXNlci5sYXN0TmFtZSxcclxuICAgICAgICBwcm9maWxlUGhvdG9GaWxlbmFtZTogdXNlci5wcm9maWxlUGhvdG9GaWxlbmFtZVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gICAgZmV0Y2hEYXRhKCk7XHJcbiAgfSwgW10pXHJcblxyXG4gY29uc3QgZWRpdENvbW1lbnRDbGlja0hhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICAvL1Nob3cgdGhlIGVkaXQgY29tbWVudCB0ZXh0YXJlYVxyXG4gICAgc2V0RWRpdE1vZGUoIWVkaXRNb2RlKTsgXHJcbiAgfVxyXG5cclxuICBjb25zdCBlZGl0Q29tbWVudFN1Ym1pdEhhbmRsZXIgPSAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGNvbnRlbnQgaXMgZW1wdHlcclxuICAgIGlmIChlZGl0ZWRDb250ZW50UmVmLmN1cnJlbnQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBlZGl0Q29tbWVudChjb21tZW50Ll9pZCwgZWRpdGVkQ29udGVudFJlZi5jdXJyZW50LnZhbHVlKTtcclxuICAgIC8vIEV4aXQgZWRpdCBtb2RlXHJcbiAgICBzZXRFZGl0TW9kZShmYWxzZSk7XHJcbiAgfVxyXG5cclxuICBcclxuICBjb25zdCBjb252ZXJ0RGF0ZT0gKG1pbGxpc2VjcykgPT4ge1xyXG4gICAgY29uc3QgZCA9IG5ldyBEYXRlKCttaWxsaXNlY3MpO1xyXG4gICAgLy8gcmV0dXJuIGQudG9Mb2NhbGVTdHJpbmcoKTtcclxuICAgIGNvbnN0IGRhdGVBcnJheSA9IGQudG9Mb2NhbGVTdHJpbmcoKS5zcGxpdChcIiwgXCIpO1xyXG4gICAgLy8gY29uc29sZS5sb2coYXJyYXkpO1xyXG4gICAgcmV0dXJuIGRhdGVBcnJheVxyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVtb3ZlQ29tbWVudENsaWNrSGFuZGxlciA9ICgpID0+IHtcclxuICAgIHJlbW92ZUNvbW1lbnRGcm9tUGxheWxpc3QoY29tbWVudC5faWQpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgY29tbWVudGVyQ2xpY2tIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgZmV0Y2hQcm9maWxlVXNlcihjb21tZW50ZXJJZCwgZmFsc2UpO1xyXG4gIH1cclxuXHJcblxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPD5cclxuICAgIDw+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29tbWVudFwiIGtleT17Y29tbWVudC5faWR9PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGVudFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhdmF0YXJcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhdmF0YXItY3JvcFwiPlxyXG4gICAgICAgICAgICAgIHtjb21tZW50VXNlci5wcm9maWxlUGhvdG9GaWxlbmFtZSAhPT0gbnVsbCAmJiBjb21tZW50VXNlci5wcm9maWxlUGhvdG9GaWxlbmFtZSAhPT0gJycgJiZcclxuICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvcHJvZmlsZS9bdXNlcklkXVwiIGFzPXtgL3Byb2ZpbGUvJHtjb21tZW50ZXJJZH1gfT5cclxuICAgICAgICAgICAgICAgICAgPGEgb25DbGljaz17Y29tbWVudGVyQ2xpY2tIYW5kbGVyfT5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17YC9pbWFnZS8ke2NvbW1lbnRVc2VyLnByb2ZpbGVQaG90b0ZpbGVuYW1lfWB9IGFsdD1cImF2YXRhclwiIC8+XHJcbiAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgIDwvTGluaz5cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgeyhjb21tZW50VXNlci5wcm9maWxlUGhvdG9GaWxlbmFtZSA9PT0gbnVsbCB8fCBjb21tZW50VXNlci5wcm9maWxlUGhvdG9GaWxlbmFtZSA9PT0gJycpICYmXHJcbiAgICAgICAgICAgICAgICA8TGluayBocmVmPVwiL3Byb2ZpbGUvW3VzZXJJZF1cIiBhcz17YC9wcm9maWxlLyR7Y29tbWVudGVySWR9YH0+XHJcbiAgICAgICAgICAgICAgICAgIDxhIG9uQ2xpY2s9e2NvbW1lbnRlckNsaWNrSGFuZGxlcn0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9Jy9kZWZhdWx0LWF2YXRhci5qcGcnIGFsdD1cImF2YXRhclwiIC8+XHJcbiAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgIDwvTGluaz5cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29tbWVudGVyXCI+XHJcbiAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvcHJvZmlsZS9bdXNlcklkXVwiIGFzPXtgL3Byb2ZpbGUvJHtjb21tZW50ZXJJZH1gfT5cclxuICAgICAgICAgICAgICA8YSBvbkNsaWNrPXtjb21tZW50ZXJDbGlja0hhbmRsZXJ9PjxoMz57Y29tbWVudFVzZXIuZmlyc3ROYW1lfSB7Y29tbWVudFVzZXIubGFzdE5hbWV9PC9oMz48L2E+XHJcbiAgICAgICAgICAgIDwvTGluaz5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgeyFlZGl0TW9kZSAmJiBcclxuICAgICAgICAgICAgICA8cD57Y29tbWVudC5jb250ZW50fTwvcD5cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB7ZWRpdE1vZGUgJiZcclxuICAgICAgICAgICAgPHNlY3Rpb24gaWQ9XCJlZGl0LWNvbW1lbnRcIj5cclxuICAgICAgICAgICAgICA8Zm9ybSBpZD1cImVkaXQtZm9ybVwiIG9uU3VibWl0PXsoZSkgPT4gZWRpdENvbW1lbnRTdWJtaXRIYW5kbGVyKGUpfT5cclxuICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBuYW1lPVwiZWRpdC1jb21tZW50LWlucHV0XCIgaWQ9XCJlZGl0LWNvbW1lbnQtaW5wdXRcIiBkZWZhdWx0VmFsdWU9e2NvbW1lbnQuY29udGVudH0gY29scz1cIjMwXCIgcm93cz1cIjVcIiByZWY9e2VkaXRlZENvbnRlbnRSZWZ9PjwvdGV4dGFyZWE+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXQtYnRuc1wiPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS1wZW5jaWxcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2VkaXRDb21tZW50Q2xpY2tIYW5kbGVyfT5cclxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS13aW5kb3ctY2xvc2VcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgICA8L3NlY3Rpb24+XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgIDwvZGl2PiAgICAgIFxyXG5cclxuICAgICAgICB7IWVkaXRNb2RlICYmIFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkYXRlLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICB7Y3VycmVudFVzZXIuaWQgPT09IGNvbW1lbnRlcklkICYmICFlZGl0TW9kZSAmJlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29tbWVudC1idG5zXCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2VkaXRDb21tZW50Q2xpY2tIYW5kbGVyfT5cclxuICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtcGVuY2lsLXNxdWFyZS1vXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3JlbW92ZUNvbW1lbnRDbGlja0hhbmRsZXJ9PlxyXG4gICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS10cmFzaFwiPjwvaT5cclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGF0ZS10aW1lXCI+XHJcbiAgICAgICAgICAgICAge2NvbnZlcnREYXRlKGNvbW1lbnQuY3JlYXRlZEF0KS5tYXAoZGF0ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gPGg0IGNsYXNzTmFtZT1cImRhdGVcIiBrZXk9e2RhdGV9PntkYXRlfTwvaDQ+XHJcbiAgICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgfSAgXHJcblxyXG4gICAgICAgIFxyXG5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgPC8+XHJcblxyXG4gICAgXHJcblxyXG4gICAgICA8c3R5bGUganN4PntgXHJcblxyXG4gICAgICAuY29tbWVudCB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgICAgIG1hcmdpbjogMXJlbSAwO1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuY29tbWVudGVyIHtcclxuICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICR7Y29sb3JzLnByaW1hcnl9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5jb21tZW50ZXIgaDMge1xyXG4gICAgICAgIG1hcmdpbjogMCAxcmVtO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuY29udGVudCB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICBwYWRkaW5nOiAxLjJyZW0gMCAxLjJyZW0gMS4ycmVtO1xyXG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5jb21tZW50LWluZm8ge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICBtYXJnaW4tbGVmdDogMXJlbTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmF2YXRhciB7XHJcbiAgICAgICAgbWF4LWhlaWdodDogNTBweDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmF2YXRhci1jcm9wIHtcclxuICAgICAgICBtYXgtd2lkdGg6IDUwcHg7XHJcbiAgICAgICAgbWF4LWhlaWdodDogNTBweDtcclxuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaW1nIHtcclxuICAgICAgICBtYXgtd2lkdGg6IDUwcHg7XHJcbiAgICAgICAgbWF4LWhlaWdodDogNzVweDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaDQge1xyXG4gICAgICAgIG1hcmdpbi1yaWdodDogMXJlbTtcclxuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHAge1xyXG4gICAgICAgIG1hcmdpbjogMCAxLjVyZW07XHJcbiAgICAgICAgd29yZC13cmFwOiBicmVhay13b3JkO1xyXG4gICAgICAgIHdpZHRoOiA2NTBweDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmRhdGUtY29udGFpbmVyIHtcclxuICAgICAgICBtYXJnaW46IDFyZW0gMCAxcmVtIGF1dG87XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgcGFkZGluZy1yaWdodDogMC41cmVtO1xyXG4gICAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgJHtjb2xvcnMucHJpbWFyeX07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5kYXRlLXRpbWUge1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDAuNXJlbTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmRhdGUtY29udGFpbmVyIGg0IHtcclxuICAgICAgICBmb250LXNpemU6IDAuOXJlbTtcclxuICAgICAgICBwYWRkaW5nOiAwIDFyZW0gMCAxLjVyZW07XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5jb21tZW50LWJ0bnMge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgICAgIG1hcmdpbjogMCBhdXRvO1xyXG4gICAgICAgIHBhZGRpbmctbGVmdDogMS4xNXJlbTtcclxuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGJ1dHRvbiB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICBmb250LXNpemU6IDFyZW07XHJcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIH1cclxuXHJcbiAgICBpIHtcclxuICAgICAgY29sb3I6ICR7Y29sb3JzLnByaW1hcnl9O1xyXG4gICAgICBmb250LXNpemU6IDEuNXJlbTtcclxuICAgICAgdHJhbnNpdGlvbjogY29sb3IgMC4ycyBlYXNlLWluLW91dDtcclxuICAgIH1cclxuXHJcbiAgICAuY29tbWVudC1idG5zIGkge1xyXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB9XHJcblxyXG4gICAgaS5mYS1wZW5jaWwtc3F1YXJlLW8ge1xyXG4gICAgICB0b3A6IDhweDtcclxuICAgICAgbGVmdDogLTJweDtcclxuICAgIH1cclxuXHJcbiAgICBpLmZhLXRyYXNoIHtcclxuICAgICAgdG9wOiA2cHg7XHJcbiAgICAgIGxlZnQ6IDBweDtcclxuICAgIH1cclxuXHJcbiAgICBpOmhvdmVyIHtcclxuICAgICAgY29sb3I6ICNlNTMwNWE7XHJcbiAgICB9XHJcblxyXG4gICAgYnV0dG9uOmZvY3VzIHtcclxuICAgICAgb3V0bGluZTogbm9uZTtcclxuICAgIH1cclxuXHJcbiAgICBzZWN0aW9uI2VkaXQtY29tbWVudCB7XHJcbiAgICAgIHdpZHRoOiA4NSU7XHJcbiAgICAgIG1hcmdpbi1sZWZ0OiAxcmVtO1xyXG4gICAgfVxyXG5cclxuICAgIGZvcm0jZWRpdC1mb3JtIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdGV4dGFyZWEge1xyXG4gICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgZm9udDogaW5oZXJpdDtcclxuICAgICAgcGFkZGluZzogMC41cmVtO1xyXG4gICAgfVxyXG5cclxuICAgICNlZGl0LWNvbW1lbnQgYnV0dG9uIHtcclxuICAgICAgaGVpZ2h0OiA1MHB4O1xyXG4gICAgICBwYWRkaW5nOiAwIDAuNXJlbTtcclxuICAgIH1cclxuXHJcbiAgICAuZWRpdC1idG5zIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgIH1cclxuXHJcbiAgICBpLmZhLXBlbmNpbCB7XHJcbiAgICAgIG1hcmdpbi1sZWZ0OiAwLjVyZW07XHJcbiAgICB9XHJcblxyXG4gICAgaS5mYS13aW5kb3ctY2xvc2Uge1xyXG4gICAgICBtYXJnaW4tcmlnaHQ6IDAuNXJlbTtcclxuICAgIH1cclxuXHJcbiAgICAvKiBNZWRpYSBxdWVyaWVzICovXHJcbiAgICBAbWVkaWEgKG1heC13aWR0aDogMTE1MHB4ICkge1xyXG4gICAgICBwIHtcclxuICAgICAgICB3aWR0aDogNDAwcHg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBAbWVkaWEgKG1heC13aWR0aDogMTA3MHB4ICkge1xyXG4gICAgICBwIHtcclxuICAgICAgICB3aWR0aDogMzUwcHg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBAbWVkaWEgKG1heC13aWR0aDogMTAwMHB4ICkge1xyXG4gICAgICBwIHtcclxuICAgICAgICB3aWR0aDogMzAwcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5hdmF0YXIge1xyXG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5jb250ZW50IHtcclxuICAgICAgICBwYWRkaW5nLWxlZnQ6IDAuNXJlbTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyogLmNvbW1lbnQge1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgIH0gKi9cclxuICAgIH1cclxuXHJcbiAgICBAbWVkaWEgKG1heC13aWR0aDogODYwcHgpIHtcclxuICAgICAgLmNvbW1lbnQge1xyXG4gICAgICAgIGRpc3BsYXk6IGdyaWQ7XHJcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZGF0ZS1jb250YWluZXIge1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB0b3A6IC0xMXB4O1xyXG4gICAgICAgIHJpZ2h0OiAtN3B4O1xyXG4gICAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmVkaXQtYnRucyB7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHRvcDogMnB4O1xyXG4gICAgICAgIHJpZ2h0OiAxcHg7XHJcbiAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0ZXh0YXJlYSB7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogMS40cmVtO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZGF0ZS10aW1lIHtcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDgzMHB4KSB7XHJcbiAgICAgIC5jb250ZW50IHtcclxuICAgICAgICBkaXNwbGF5OiBncmlkO1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuY29tbWVudCB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcCB7XHJcbiAgICAgICAgd2lkdGg6IDQ4MHB4O1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDEuNXJlbTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmF2YXRhciB7XHJcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHRvcDogMThweDtcclxuICAgICAgICBsZWZ0OiAxNnB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuY29tbWVudGVyIGgzIHtcclxuICAgICAgICBtYXJnaW46IDAuN3JlbSAwcmVtIDByZW0gNC4zcmVtO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuY29tbWVudGVyIHtcclxuICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlY3Rpb24jZWRpdC1jb21tZW50IHtcclxuICAgICAgICB3aWR0aDogOTIlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDgwMHB4ICkge1xyXG4gICAgICBwIHtcclxuICAgICAgICB3aWR0aDogNTl2dztcclxuICAgICAgICAvKiBtYXJnaW4tcmlnaHQ6IDAuNXJlbTsgKi9cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKiBNZWRpYSBxdWVyaWVzICovXHJcbiAgICBAbWVkaWEgKG1heC13aWR0aDogNzY4cHggKSB7XHJcbiAgICAgIC5hdmF0YXIge1xyXG4gICAgICAgIC8qIGRpc3BsYXk6IG5vbmU7ICovXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5jb21tZW50ZXIge1xyXG4gICAgICAgIGJvcmRlci1yaWdodDogbm9uZTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgcCB7XHJcbiAgICAgICAgLyogb3ZlcmZsb3c6IHNjcm9sbDsgKi9cclxuICAgICAgICAvKiBoZWlnaHQ6IDEwMHB4OyAqL1xyXG4gICAgICAgIC8qIHdvcmQtd3JhcDogYnJlYWstd29yZDsgKi9cclxuICAgICAgICB3aWR0aDogNTV2dztcclxuICAgICAgfVxyXG5cclxuICAgICAgLmNvbnRlbnQge1xyXG4gICAgICAgIGRpc3BsYXk6IGdyaWQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBAbWVkaWEgKG1heC13aWR0aDogNjYwcHgpIHtcclxuICAgICAgcCB7XHJcbiAgICAgICAgd2lkdGg6IDY4dnc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBAbWVkaWEgKG1heC13aWR0aDogNjEwcHgpIHtcclxuICAgICAgc2VjdGlvbiNlZGl0LWNvbW1lbnQge1xyXG4gICAgICAgIHdpZHRoOiA5MCU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5jb250ZW50IHtcclxuICAgICAgICBwYWRkaW5nLWxlZnQ6IDByZW07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGgzIHtcclxuICAgICAgICBwYWRkaW5nLWxlZnQ6IDAuNnJlbTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA1NjBweCkge1xyXG4gICAgICBwIHtcclxuICAgICAgICAvKiB3aWR0aDogNDV2dzsgKi9cclxuICAgICAgICBmb250LXNpemU6IDAuOXJlbTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA1MDBweCkge1xyXG4gICAgICBwIHtcclxuICAgICAgICB3aWR0aDogNjV2dztcclxuICAgICAgICAvKiBmb250LXNpemU6IDAuOXJlbTsgKi9cclxuICAgICAgfVxyXG5cclxuICAgICAgLmNvbW1lbnQge1xyXG4gICAgICAgIHBhZGRpbmctdG9wOiAxcmVtO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuYXZhdGFyIHtcclxuICAgICAgICB0b3A6IDMzcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDQ0MHB4KSB7XHJcbiAgICAgIHAge1xyXG4gICAgICAgIHdpZHRoOiA2M3Z3O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDQyMHB4KSB7XHJcbiAgICAgIHAge1xyXG4gICAgICAgIHdpZHRoOiA2OXZ3O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDM2MHB4KSB7XHJcbiAgICAgIHAge1xyXG4gICAgICAgIHdpZHRoOiA2NXZ3O1xyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICBcclxuICAgIGB9PC9zdHlsZT5cclxuXHJcbiAgPC8+XHJcbiAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb21tZW50OyJdfQ== */\\n/*@ sourceURL=C:\\\\\\\\Coding\\\\\\\\MyProjects\\\\\\\\coders-jukebox\\\\\\\\components\\\\\\\\Comment.js */\")));\n};\n\n_s(Comment, \"Nh5K7MkuAL8hyRvqerkVCCxIb/Q=\");\n\n_c = Comment;\nexport default Comment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Comment\");","map":{"version":3,"sources":["C:/Coding/MyProjects/coders-jukebox/components/Comment.js"],"names":["Link","useContext","useState","useEffect","useRef","GlobalContext","colors","Comment","comment","commenterId","commenter","_id","getCommentUser","removeCommentFromPlaylist","currentUser","fetchProfileUser","editComment","firstName","lastName","profilePhotoFilename","commentUser","setCommentUser","editMode","setEditMode","editedContentRef","fetchData","user","editCommentClickHandler","editCommentSubmitHandler","e","preventDefault","current","value","trim","length","convertDate","millisecs","d","Date","dateArray","toLocaleString","split","removeCommentClickHandler","commenterClickHandler","primary","content","id","createdAt","map","date"],"mappings":"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","sourcesContent":["import Link from 'next/link';\r\nimport { useContext, useState, useEffect, useRef } from 'react';\r\nimport { GlobalContext } from '../context/GlobalContext';\r\nimport colors from  '../css-variables/colors';\r\n\r\nconst Comment = ({comment}) => {\r\n  \r\n  const commenterId = comment.commenter._id \r\n  \r\n  const { getCommentUser, removeCommentFromPlaylist, currentUser, fetchProfileUser, editComment } = useContext(GlobalContext);\r\n  \r\n  const [commentUser, setCommentUser] = useState({\r\n    firstName: '',\r\n    lastName:'',\r\n    profilePhotoFilename: ''\r\n  });\r\n  \r\n  const [editMode, setEditMode] = useState(false);\r\n  \r\n  const editedContentRef = useRef();\r\n\r\n  \r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const user = await getCommentUser(comment.commenter._id);\r\n      setCommentUser({\r\n        firstName: user.firstName,\r\n        lastName: user.lastName,\r\n        profilePhotoFilename: user.profilePhotoFilename\r\n      })\r\n    }\r\n    fetchData();\r\n  }, [])\r\n\r\n const editCommentClickHandler = () => {\r\n    //Show the edit comment textarea\r\n    setEditMode(!editMode); \r\n  }\r\n\r\n  const editCommentSubmitHandler = (e) => {\r\n    e.preventDefault();\r\n    // Check if the content is empty\r\n    if (editedContentRef.current.value.trim().length === 0) {\r\n      return;\r\n    }\r\n    editComment(comment._id, editedContentRef.current.value);\r\n    // Exit edit mode\r\n    setEditMode(false);\r\n  }\r\n\r\n  \r\n  const convertDate= (millisecs) => {\r\n    const d = new Date(+millisecs);\r\n    // return d.toLocaleString();\r\n    const dateArray = d.toLocaleString().split(\", \");\r\n    // console.log(array);\r\n    return dateArray\r\n  }\r\n\r\n  const removeCommentClickHandler = () => {\r\n    removeCommentFromPlaylist(comment._id);\r\n  }\r\n\r\n  const commenterClickHandler = () => {\r\n    fetchProfileUser(commenterId, false);\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n    <>\r\n      <div className=\"comment\" key={comment._id}>\r\n        <div className=\"content\">\r\n          <div className=\"avatar\">\r\n            <div className=\"avatar-crop\">\r\n              {commentUser.profilePhotoFilename !== null && commentUser.profilePhotoFilename !== '' &&\r\n                <Link href=\"/profile/[userId]\" as={`/profile/${commenterId}`}>\r\n                  <a onClick={commenterClickHandler}>\r\n                    <img src={`/image/${commentUser.profilePhotoFilename}`} alt=\"avatar\" />\r\n                  </a>\r\n                </Link>\r\n              }\r\n              {(commentUser.profilePhotoFilename === null || commentUser.profilePhotoFilename === '') &&\r\n                <Link href=\"/profile/[userId]\" as={`/profile/${commenterId}`}>\r\n                  <a onClick={commenterClickHandler}>\r\n                    <img src='/default-avatar.jpg' alt=\"avatar\" />\r\n                  </a>\r\n                </Link>\r\n              }\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"commenter\">\r\n            <Link href=\"/profile/[userId]\" as={`/profile/${commenterId}`}>\r\n              <a onClick={commenterClickHandler}><h3>{commentUser.firstName} {commentUser.lastName}</h3></a>\r\n            </Link>\r\n          </div>\r\n              \r\n          {!editMode && \r\n              <p>{comment.content}</p>\r\n          }\r\n\r\n          {editMode &&\r\n            <section id=\"edit-comment\">\r\n              <form id=\"edit-form\" onSubmit={(e) => editCommentSubmitHandler(e)}>\r\n                <textarea name=\"edit-comment-input\" id=\"edit-comment-input\" defaultValue={comment.content} cols=\"30\" rows=\"5\" ref={editedContentRef}></textarea>\r\n                <div className=\"edit-btns\">\r\n                  <button type=\"submit\">\r\n                    <i className=\"fa fa-pencil\"></i>\r\n                  </button>\r\n                  <button onClick={editCommentClickHandler}>\r\n                    <i className=\"fa fa-window-close\"></i>\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </section>\r\n          }\r\n\r\n        </div>      \r\n\r\n        {!editMode && \r\n          <div className=\"date-container\">\r\n            {currentUser.id === commenterId && !editMode &&\r\n              <div className=\"comment-btns\">\r\n                <button onClick={editCommentClickHandler}>\r\n                  <i className=\"fa fa-pencil-square-o\"></i>\r\n                </button>\r\n                <button onClick={removeCommentClickHandler}>\r\n                  <i className=\"fa fa-trash\"></i>\r\n                </button>\r\n              </div>\r\n            }\r\n            <div className=\"date-time\">\r\n              {convertDate(comment.createdAt).map(date => {\r\n                return <h4 className=\"date\" key={date}>{date}</h4>\r\n              })}\r\n            </div>\r\n          </div>\r\n        }  \r\n\r\n        \r\n\r\n      </div>\r\n\r\n    </>\r\n\r\n    \r\n\r\n      <style jsx>{`\r\n\r\n      .comment {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        width: 100%;\r\n        border: 1px solid black;\r\n        border-radius: 5px;\r\n        margin: 1rem 0;\r\n        background-color: white;\r\n      }\r\n\r\n      .commenter {\r\n        height: 100%;\r\n        display: flex;\r\n        align-items: center;\r\n        border-right: 1px solid ${colors.primary}\r\n      }\r\n\r\n      .commenter h3 {\r\n        margin: 0 1rem;\r\n      }\r\n\r\n      .content {\r\n        display: flex;\r\n        width: 100%;\r\n        padding: 1.2rem 0 1.2rem 1.2rem;\r\n        align-items: center;\r\n      }\r\n\r\n      .comment-info {\r\n        display: flex;\r\n        width: 100%;\r\n        align-items: center;\r\n        margin-left: 1rem;\r\n      }\r\n\r\n      .avatar {\r\n        max-height: 50px;\r\n      }\r\n\r\n      .avatar-crop {\r\n        max-width: 50px;\r\n        max-height: 50px;\r\n        overflow: hidden;\r\n        border-radius: 50%;\r\n      }\r\n\r\n      img {\r\n        max-width: 50px;\r\n        max-height: 75px;\r\n      }\r\n\r\n      h4 {\r\n        margin-right: 1rem;\r\n        text-align: center;\r\n      }\r\n\r\n      p {\r\n        margin: 0 1.5rem;\r\n        word-wrap: break-word;\r\n        width: 650px;\r\n      }\r\n\r\n      .date-container {\r\n        margin: 1rem 0 1rem auto;\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        justify-content: center;\r\n        padding-right: 0.5rem;\r\n        border-left: 1px solid ${colors.primary};\r\n      }\r\n\r\n      .date-time {\r\n        margin-top: 0.5rem;\r\n      }\r\n\r\n      .date-container h4 {\r\n        font-size: 0.9rem;\r\n        padding: 0 1rem 0 1.5rem;\r\n        width: 100%;\r\n      }\r\n\r\n      .comment-btns {\r\n        display: flex;\r\n        height: 40px;\r\n        margin: 0 auto;\r\n        padding-left: 1.15rem;\r\n\r\n      }\r\n\r\n      button {\r\n      background-color: white;\r\n      color: white;\r\n      border: none;\r\n      cursor: pointer;\r\n      font-size: 1rem;\r\n      position: relative;\r\n    }\r\n\r\n    i {\r\n      color: ${colors.primary};\r\n      font-size: 1.5rem;\r\n      transition: color 0.2s ease-in-out;\r\n    }\r\n\r\n    .comment-btns i {\r\n      position: absolute;\r\n    }\r\n\r\n    i.fa-pencil-square-o {\r\n      top: 8px;\r\n      left: -2px;\r\n    }\r\n\r\n    i.fa-trash {\r\n      top: 6px;\r\n      left: 0px;\r\n    }\r\n\r\n    i:hover {\r\n      color: #e5305a;\r\n    }\r\n\r\n    button:focus {\r\n      outline: none;\r\n    }\r\n\r\n    section#edit-comment {\r\n      width: 85%;\r\n      margin-left: 1rem;\r\n    }\r\n\r\n    form#edit-form {\r\n      display: flex;\r\n    }\r\n    \r\n    textarea {\r\n      width: 100%;\r\n      font: inherit;\r\n      padding: 0.5rem;\r\n    }\r\n\r\n    #edit-comment button {\r\n      height: 50px;\r\n      padding: 0 0.5rem;\r\n    }\r\n\r\n    .edit-btns {\r\n      display: flex;\r\n    }\r\n\r\n    i.fa-pencil {\r\n      margin-left: 0.5rem;\r\n    }\r\n\r\n    i.fa-window-close {\r\n      margin-right: 0.5rem;\r\n    }\r\n\r\n    /* Media queries */\r\n    @media (max-width: 1150px ) {\r\n      p {\r\n        width: 400px;\r\n      }\r\n    }\r\n\r\n    @media (max-width: 1070px ) {\r\n      p {\r\n        width: 350px;\r\n      }\r\n    }\r\n\r\n    @media (max-width: 1000px ) {\r\n      p {\r\n        width: 300px;\r\n      }\r\n\r\n      .avatar {\r\n        display: none;\r\n      }\r\n\r\n      .content {\r\n        padding-left: 0.5rem;\r\n      }\r\n\r\n      /* .comment {\r\n        flex-direction: column;\r\n        justify-content: center;\r\n      } */\r\n    }\r\n\r\n    @media (max-width: 860px) {\r\n      .comment {\r\n        display: grid;\r\n        position: relative;\r\n      }\r\n\r\n      .date-container {\r\n        position: absolute;\r\n        top: -11px;\r\n        right: -7px;\r\n        border: none;\r\n      }\r\n\r\n      .edit-btns {\r\n        position: absolute;\r\n        top: 2px;\r\n        right: 1px;\r\n        border: none;\r\n      }\r\n\r\n      textarea {\r\n        margin-top: 1.4rem;\r\n      }\r\n\r\n      .date-time {\r\n        display: none;\r\n      }\r\n    }\r\n\r\n    @media (max-width: 830px) {\r\n      .content {\r\n        display: grid;\r\n        width: 100%;\r\n      }\r\n\r\n      .comment {\r\n        display: flex;\r\n      }\r\n\r\n      p {\r\n        width: 480px;\r\n        margin-top: 1.5rem;\r\n      }\r\n\r\n      .avatar {\r\n        display: block;\r\n        position: absolute;\r\n        top: 18px;\r\n        left: 16px;\r\n      }\r\n\r\n      .commenter h3 {\r\n        margin: 0.7rem 0rem 0rem 4.3rem;\r\n      }\r\n\r\n      .commenter {\r\n        border: none;\r\n      }\r\n\r\n      section#edit-comment {\r\n        width: 92%;\r\n      }\r\n    }\r\n\r\n    @media (max-width: 800px ) {\r\n      p {\r\n        width: 59vw;\r\n        /* margin-right: 0.5rem; */\r\n      }\r\n    }\r\n\r\n\r\n    /* Media queries */\r\n    @media (max-width: 768px ) {\r\n      .avatar {\r\n        /* display: none; */\r\n      }\r\n\r\n      .commenter {\r\n        border-right: none;\r\n      }\r\n      \r\n      p {\r\n        /* overflow: scroll; */\r\n        /* height: 100px; */\r\n        /* word-wrap: break-word; */\r\n        width: 55vw;\r\n      }\r\n\r\n      .content {\r\n        display: grid;\r\n      }\r\n    }\r\n\r\n    @media (max-width: 660px) {\r\n      p {\r\n        width: 68vw;\r\n      }\r\n    }\r\n\r\n    @media (max-width: 610px) {\r\n      section#edit-comment {\r\n        width: 90%;\r\n      }\r\n\r\n      .content {\r\n        padding-left: 0rem;\r\n      }\r\n\r\n      h3 {\r\n        padding-left: 0.6rem;\r\n      }\r\n    }\r\n\r\n    @media (max-width: 560px) {\r\n      p {\r\n        /* width: 45vw; */\r\n        font-size: 0.9rem;\r\n      }\r\n    }\r\n\r\n    @media (max-width: 500px) {\r\n      p {\r\n        width: 65vw;\r\n        /* font-size: 0.9rem; */\r\n      }\r\n\r\n      .comment {\r\n        padding-top: 1rem;\r\n      }\r\n\r\n      .avatar {\r\n        top: 33px;\r\n      }\r\n\r\n    }\r\n\r\n    @media (max-width: 440px) {\r\n      p {\r\n        width: 63vw;\r\n      }\r\n    }\r\n\r\n    @media (max-width: 420px) {\r\n      p {\r\n        width: 69vw;\r\n      }\r\n    }\r\n\r\n    @media (max-width: 360px) {\r\n      p {\r\n        width: 65vw;\r\n      }\r\n\r\n    }\r\n\r\n  \r\n    `}</style>\r\n\r\n  </>\r\n  )\r\n}\r\n\r\nexport default Comment;"]},"metadata":{},"sourceType":"module"}
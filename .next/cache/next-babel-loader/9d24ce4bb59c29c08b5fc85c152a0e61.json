{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useContext } from 'react';\nimport { GlobalContext } from '../context/GlobalContext';\nimport colors from '../css-variables/colors';\n\nconst FileUpload = ({\n  setEditMode\n}) => {\n  const {\n    0: file,\n    1: setFile\n  } = useState('');\n  const {\n    0: filename,\n    1: setFilename\n  } = useState('Upload photo - max size 70 KB');\n  const {\n    uploadFile\n  } = useContext(GlobalContext);\n\n  const uploadFileHandler = e => {\n    e.preventDefault(); // Check for max size\n\n    if (file.size > 70000) {\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('file', file);\n    uploadFile(formData);\n    setEditMode(false);\n  };\n\n  const onChange = e => {\n    setFile(e.target.files[0]);\n    setFilename(e.target.files[0].name);\n  };\n\n  return __jsx(\"div\", {\n    id: \"file-upload\",\n    className: _JSXStyle.dynamic([[\"1812339006\", [colors.primary]]])\n  }, __jsx(\"h2\", {\n    className: _JSXStyle.dynamic([[\"1812339006\", [colors.primary]]])\n  }, \"Upload a profile photo:\"), __jsx(\"form\", {\n    onSubmit: e => uploadFileHandler(e),\n    className: _JSXStyle.dynamic([[\"1812339006\", [colors.primary]]])\n  }, __jsx(\"input\", {\n    type: \"file\",\n    name: \"file\",\n    id: \"file\",\n    onChange: onChange,\n    className: _JSXStyle.dynamic([[\"1812339006\", [colors.primary]]]) + \" \" + \"custom-file-input\"\n  }), __jsx(\"label\", {\n    htmlFor: \"file\",\n    className: _JSXStyle.dynamic([[\"1812339006\", [colors.primary]]]) + \" \" + \"custom-file-label\"\n  }, filename), __jsx(\"button\", {\n    type: \"submit\",\n    value: \"Upload\",\n    className: _JSXStyle.dynamic([[\"1812339006\", [colors.primary]]])\n  }, \"Upload\")), __jsx(_JSXStyle, {\n    id: \"1812339006\",\n    dynamic: [colors.primary]\n  }, `#file-upload.__jsx-style-dynamic-selector{margin-top:3rem;border-top:1px solid ${colors.primary};padding-top:2rem;}#file-upload.__jsx-style-dynamic-selector h2.__jsx-style-dynamic-selector{margin-bottom:1rem;}form.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}input[type=\"file\"].__jsx-style-dynamic-selector{font-size:1rem;}input#file-upload-button.__jsx-style-dynamic-selector{border-radius:5px;padding:1rem;}label.__jsx-style-dynamic-selector{margin:0.5rem 0;}button.__jsx-style-dynamic-selector{width:83px;margin-top:1rem;}input.__jsx-style-dynamic-selector{margin:1rem 0;}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxDb2RpbmdcXE15UHJvamVjdHNcXGNvZGVycy1qdWtlYm94XFxjb21wb25lbnRzXFxGaWxlVXBsb2FkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTRDa0IsQUFJMkIsQUFNRyxBQUlOLEFBS0UsQUFJRyxBQUtGLEFBSUwsQUFLRyxXQUpFLEdBS2xCLENBbEJBLENBZm9ELEFBd0JwRCxFQUxlLENBYmYsUUF1QkEsSUFUQSxtQ0FuQm1CLFFBU0ssU0FSeEIscUVBU0EiLCJmaWxlIjoiQzpcXENvZGluZ1xcTXlQcm9qZWN0c1xcY29kZXJzLWp1a2Vib3hcXGNvbXBvbmVudHNcXEZpbGVVcGxvYWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ29udGV4dH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IEdsb2JhbENvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L0dsb2JhbENvbnRleHQnO1xyXG5pbXBvcnQgY29sb3JzIGZyb20gJy4uL2Nzcy12YXJpYWJsZXMvY29sb3JzJztcclxuXHJcbmNvbnN0IEZpbGVVcGxvYWQgPSAoe3NldEVkaXRNb2RlfSkgPT4ge1xyXG5cclxuICBjb25zdCBbZmlsZSwgc2V0RmlsZV0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgW2ZpbGVuYW1lLCBzZXRGaWxlbmFtZV0gPSB1c2VTdGF0ZSgnVXBsb2FkIHBob3RvIC0gbWF4IHNpemUgNzAgS0InKTtcclxuXHJcbiAgY29uc3QgeyB1cGxvYWRGaWxlIH0gPSB1c2VDb250ZXh0KEdsb2JhbENvbnRleHQpO1xyXG5cclxuICBjb25zdCB1cGxvYWRGaWxlSGFuZGxlciA9IChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgLy8gQ2hlY2sgZm9yIG1heCBzaXplXHJcbiAgICBpZiAoZmlsZS5zaXplID4gNzAwMDApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcclxuXHJcbiAgICB1cGxvYWRGaWxlKGZvcm1EYXRhKTtcclxuICAgIHNldEVkaXRNb2RlKGZhbHNlKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IG9uQ2hhbmdlID0gKGUpID0+IHtcclxuICAgIHNldEZpbGUoZS50YXJnZXQuZmlsZXNbMF0pO1xyXG4gICAgc2V0RmlsZW5hbWUoZS50YXJnZXQuZmlsZXNbMF0ubmFtZSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgaWQ9XCJmaWxlLXVwbG9hZFwiPlxyXG4gICAgICA8aDI+VXBsb2FkIGEgcHJvZmlsZSBwaG90bzo8L2gyPlxyXG4gICAgICA8Zm9ybSBvblN1Ym1pdD17KGUpID0+IHVwbG9hZEZpbGVIYW5kbGVyKGUpfT5cclxuICAgICAgICA8aW5wdXQgdHlwZT1cImZpbGVcIiBuYW1lPVwiZmlsZVwiIGlkPVwiZmlsZVwiIGNsYXNzTmFtZT1cImN1c3RvbS1maWxlLWlucHV0XCIgb25DaGFuZ2U9e29uQ2hhbmdlfSAvPlxyXG4gICAgICAgIDxsYWJlbCBodG1sRm9yPVwiZmlsZVwiIGNsYXNzTmFtZT1cImN1c3RvbS1maWxlLWxhYmVsXCI+XHJcbiAgICAgICAgICB7ZmlsZW5hbWV9XHJcbiAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiB2YWx1ZT1cIlVwbG9hZFwiPlVwbG9hZDwvYnV0dG9uPlxyXG4gICAgICA8L2Zvcm0+XHJcblxyXG5cclxuICAgICAgPHN0eWxlIGpzeD57YFxyXG4gICAgICBcclxuICAgICAgICAjZmlsZS11cGxvYWQge1xyXG4gICAgICAgICAgbWFyZ2luLXRvcDogM3JlbTtcclxuICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAke2NvbG9ycy5wcmltYXJ5fTtcclxuICAgICAgICAgIHBhZGRpbmctdG9wOiAycmVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgI2ZpbGUtdXBsb2FkIGgyIHtcclxuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDFyZW07XHJcbiAgICAgICAgfVxyXG4gICAgICBcclxuICAgICAgICBmb3JtIHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5wdXRbdHlwZT1cImZpbGVcIl0ge1xyXG4gICAgICAgICAgZm9udC1zaXplOiAxcmVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5wdXQjZmlsZS11cGxvYWQtYnV0dG9uIHtcclxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgICAgICAgIHBhZGRpbmc6IDFyZW07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsYWJlbCB7XHJcbiAgICAgICAgICBtYXJnaW46IDAuNXJlbSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYnV0dG9uIHtcclxuICAgICAgICAgIHdpZHRoOiA4M3B4O1xyXG4gICAgICAgICAgbWFyZ2luLXRvcDogMXJlbTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaW5wdXQge1xyXG4gICAgICAgICAgbWFyZ2luOiAxcmVtIDA7IFxyXG4gICAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGB9PC9zdHlsZT5cclxuXHJcbiAgICA8L2Rpdj4gXHJcblxyXG4gIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRmlsZVVwbG9hZDtcclxuIl19 */\n/*@ sourceURL=C:\\\\Coding\\\\MyProjects\\\\coders-jukebox\\\\components\\\\FileUpload.js */`));\n};\n\nexport default FileUpload;","map":{"version":3,"sources":["C:/Coding/MyProjects/coders-jukebox/components/FileUpload.js"],"names":["useState","useContext","GlobalContext","colors","FileUpload","setEditMode","file","setFile","filename","setFilename","uploadFile","uploadFileHandler","e","preventDefault","size","formData","FormData","append","onChange","target","files","name","primary"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,UAAnB,QAAoC,OAApC;AACA,SAASC,aAAT,QAA8B,0BAA9B;AACA,OAAOC,MAAP,MAAmB,yBAAnB;;AAEA,MAAMC,UAAU,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAmB;AAEpC,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAkBP,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM;AAAA,OAACQ,QAAD;AAAA,OAAWC;AAAX,MAA0BT,QAAQ,CAAC,+BAAD,CAAxC;AAEA,QAAM;AAAEU,IAAAA;AAAF,MAAiBT,UAAU,CAACC,aAAD,CAAjC;;AAEA,QAAMS,iBAAiB,GAAIC,CAAD,IAAO;AAC/BA,IAAAA,CAAC,CAACC,cAAF,GAD+B,CAG/B;;AACA,QAAIP,IAAI,CAACQ,IAAL,GAAY,KAAhB,EAAuB;AACrB;AACD;;AAED,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBX,IAAxB;AAEAI,IAAAA,UAAU,CAACK,QAAD,CAAV;AACAV,IAAAA,WAAW,CAAC,KAAD,CAAX;AACD,GAbD;;AAeA,QAAMa,QAAQ,GAAIN,CAAD,IAAO;AACtBL,IAAAA,OAAO,CAACK,CAAC,CAACO,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAP;AACAX,IAAAA,WAAW,CAACG,CAAC,CAACO,MAAF,CAASC,KAAT,CAAe,CAAf,EAAkBC,IAAnB,CAAX;AACD,GAHD;;AAMA,SACE;AAAK,IAAA,EAAE,EAAC,aAAR;AAAA,kDAe8BlB,MAAM,CAACmB,OAfrC;AAAA,KACE;AAAA,kDAc4BnB,MAAM,CAACmB,OAdnC;AAAA,+BADF,EAEE;AAAM,IAAA,QAAQ,EAAGV,CAAD,IAAOD,iBAAiB,CAACC,CAAD,CAAxC;AAAA,kDAa4BT,MAAM,CAACmB,OAbnC;AAAA,KACE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,MAAxB;AAA+B,IAAA,EAAE,EAAC,MAAlC;AAAuE,IAAA,QAAQ,EAAEJ,QAAjF;AAAA,kDAY0Bf,MAAM,CAACmB,OAZjC,aAAmD;AAAnD,IADF,EAEE;AAAO,IAAA,OAAO,EAAC,MAAf;AAAA,kDAW0BnB,MAAM,CAACmB,OAXjC,aAAgC;AAAhC,KACGd,QADH,CAFF,EAKE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,KAAK,EAAC,QAA5B;AAAA,kDAQ0BL,MAAM,CAACmB,OARjC;AAAA,cALF,CAFF;AAAA;AAAA,cAe8BnB,MAAM,CAACmB,OAfrC;AAAA,uFAe8BnB,MAAM,CAACmB,OAfrC;;mFAAA,EADF;AAwDD,CApFD;;AAsFA,eAAelB,UAAf","sourcesContent":["import { useState, useContext} from 'react'\r\nimport { GlobalContext } from '../context/GlobalContext';\r\nimport colors from '../css-variables/colors';\r\n\r\nconst FileUpload = ({setEditMode}) => {\r\n\r\n  const [file, setFile] = useState('');\r\n  const [filename, setFilename] = useState('Upload photo - max size 70 KB');\r\n\r\n  const { uploadFile } = useContext(GlobalContext);\r\n\r\n  const uploadFileHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    // Check for max size\r\n    if (file.size > 70000) {\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    uploadFile(formData);\r\n    setEditMode(false);\r\n  }\r\n\r\n  const onChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n    setFilename(e.target.files[0].name);\r\n  }\r\n\r\n\r\n  return (\r\n    <div id=\"file-upload\">\r\n      <h2>Upload a profile photo:</h2>\r\n      <form onSubmit={(e) => uploadFileHandler(e)}>\r\n        <input type=\"file\" name=\"file\" id=\"file\" className=\"custom-file-input\" onChange={onChange} />\r\n        <label htmlFor=\"file\" className=\"custom-file-label\">\r\n          {filename}\r\n        </label>\r\n        <button type=\"submit\" value=\"Upload\">Upload</button>\r\n      </form>\r\n\r\n\r\n      <style jsx>{`\r\n      \r\n        #file-upload {\r\n          margin-top: 3rem;\r\n          border-top: 1px solid ${colors.primary};\r\n          padding-top: 2rem;\r\n        }\r\n\r\n        #file-upload h2 {\r\n          margin-bottom: 1rem;\r\n        }\r\n      \r\n        form {\r\n          display: flex;\r\n          flex-direction: column;\r\n        }\r\n\r\n        input[type=\"file\"] {\r\n          font-size: 1rem;\r\n        }\r\n\r\n        input#file-upload-button {\r\n          border-radius: 5px;\r\n          padding: 1rem;\r\n        }\r\n\r\n        label {\r\n          margin: 0.5rem 0;\r\n        }\r\n\r\n        button {\r\n          width: 83px;\r\n          margin-top: 1rem;\r\n        }\r\n        \r\n        input {\r\n          margin: 1rem 0; \r\n        }\r\n      \r\n      `}</style>\r\n\r\n    </div> \r\n\r\n  )\r\n}\r\n\r\nexport default FileUpload;\r\n"]},"metadata":{},"sourceType":"module"}